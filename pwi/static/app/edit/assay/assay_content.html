<div ng-hide="vm.hideErrorContents">
	<h3 id='loadingHeader'>{{ vm.errorMsg }}</h3>
</div>

<form id="assayForm" class="form-horizontal mousetrap">

<div class="container-fluid" style='min-width:1200px'>
<div class="row ">

	<!-- main left panel -->
	<div class="col-sm-10 section">

		<div class="row topMargin">
		<div class="col-sm-2" style="">
			<label class="label label-edit-search">J#</label>
			<input type="text" class="form-control" 
				ng-model="vm.apiDomain.jnumid" id="jnumID"
                                ng-change="changeAssay()"
				ng-blur="validateJnum(vm.apiDomain, 'jnumID')"
			></input>
		</div>
		<div class="col-sm-2" style="">
			<label class="label label-view-only">Citation</label>
			<input type="text" class="form-control" tabindex="-1" 
				ng-model="vm.apiDomain.short_citation" id="short_citation"
			></input>
		</div>
		<div class="col-sm-3" style="">
			<button type="button" id="hideShowAssayNoteButton" tabindex="-1"
				ng-class="{'hasNoteButton':  vm.apiDomain.assayNote != null && vm.apiDomain.assayNote.assayNote != ''}"
				ng-click="hideShowAssayNote()" >Assay Note</button>
                                <img id="clearAssayNoteButton" src="/pwi/static/images/clear.png" width=15 height=15
                                        ng-click="clearAssayNote()" ng-hide="vm.hideAssayNote">
		                <button type="button" id="addAssayAccMGITagButton" tabindex="-1" ng-hide="vm.hideAssayNote"
			                ng-click="addAssayAccMGITag()" >Add Acc/MGI</button>
		                <button type="button" id="addAssayQRTTagButton" tabindex="-1" ng-hide="vm.hideAssayNote"
			                ng-click="addAssayQRTTag()" >Add qRT-PCR</button>
				<textarea class="form-control" rows=2 id="assayNoteID" tabindex="-1" ng-hide="vm.hideAssayNote"
                                        ng-model="vm.apiDomain.assayNote.assayNote" 
                                        ng-change="changeAssayNote()"
                                ></textarea>
		</div>

                <div class="col-sm-2" style="text-align:right;">
                <span>
                    Assay Detail<img style="position:absolute;" id="assayDetailButton" class="externalLink"
                    src="/pwi/static/images/link_out.png" width=20 height=20
                    ng-click="assayDetailLink()" >
                </span>
                </div>

		<div class="col-sm-3" style="text-align:right;">
			<button type="button" id="duplicatePrepButton" tabindex="-1"
				ng-click="duplicateAssay(3)" >Duplicate Prep</button>
			<button type="button" id="duplicatePartialButton" tabindex="-1"
				ng-click="duplicateAssay(2)" >Partial</button>
			<button type="button" id="duplicateAllButton" tabindex="-1"
				ng-click="duplicateAssay(1)" >All</button>
		</div>

		</div>

		<div class="row topMargin">
		<div class="col-sm-2" style="">
		        <label class="label label-edit-search">Assay Type</label><br>
                        <select type=dropdown size="1" id="assayType" 
			 ng-options="choice.termKey as choice.term for choice in vm.assayTypeLookup"
                               ng-model="vm.apiDomain.assayTypeKey"
                               ng-change="changeAssayType()"
                               >
                               <option value="">Search All</option>
                        </select>
		</div>
		<div class="col-sm-2" style="">
		        <label class="label label-edit-search">Marker</label><br>
                        <input class="form-control" type="text" id="markerSymbol"
				ng-model="vm.apiDomain.markerSymbol"
                                ng-change="changeAssay()"
                                ng-blur="validateMarker(vm.apiDomain, 'markerSymbol')"
                                >
                        </input>
		</div>

                <div ng-if="vm.apiDomain.isReporter">
		<div class="col-sm-2" style="">
		        <label class="label label-edit-search">Reporter Gene</label><br>
                        <select type=dropdown size="1" id="reporterGene" 
                         ng-disabled="vm.apiDomain.isReporter==false"
			 ng-options="choice.termKey as choice.term for choice in vm.reporterGeneLookup"
                               ng-model="vm.apiDomain.reporterGeneKey"
                               ng-change="changeAssay()"
                               >
                               <option value="">Search All</option>
                        </select>
		</div>
		<div class="col-sm-2" style="">
		        <label class="label label-edit-search">Detection Method</label><br>
                        <select type=dropdown size="1" id="dectection" 
                         ng-disabled="vm.apiDomain.isReporter==false"
			 ng-options="choice.termKey as choice.term for choice in vm.detectionLookup"
                               ng-model="vm.apiDomain.detectionKey"
                               ng-change="changeDetection()"
                               >
                               <option value="">Search All</option>
                        </select>
		</div>
		</div>
		</div>

		<div class="row sectionDivider topMargin">
		<div class="spacer"></div>
                <div ng-if="vm.apiDomain.isProbePrep == true || vm.apiDomain.detectionKey == 1">
		<div class="col-sm-2" style="">
			<label class="label label-edit-search">Probe Acc ID</label>
			<input type="text" class="form-control" 
				ng-model="vm.apiDomain.probePrep.probeAccID" id="probeAccID"
                                ng-change="changeProbePrep()"
                                ng-blur="validateProbe(vm.apiDomain.probePrep, 'probeAccID')"
			></input>
		</div>
		<div class="col-sm-2" style="">
			<label class="label label-search">Probe Name</label>
			<input type="text" class="form-control" tabindex="-1"
				ng-model="vm.apiDomain.probePrep.probeName" id="probeName"
                                ng-change="changeProbePrep()"
			></input>
		</div>
		<div class="col-sm-2" style="">
		        <label class="label label-edit-search">Probe Prep Type</label><br>
                        <select type=dropdown size="1" id="probePrepType" 
			 ng-options="choice.term as choice.term for choice in vm.probeprepTypeLookup"
                               ng-model="vm.apiDomain.probePrep.prepType"
                               ng-change="changeProbePrep()"
                               >
                               <option value="">Search All</option>
                        </select>
		</div>
		<div class="col-sm-2" style="">
		        <label class="label label-edit-search">Hybridization</label><br>
                        <select type=dropdown size="1" id="probeSense" 
			 ng-options="choice.termKey as choice.term for choice in vm.probeSenseLookup"
                               ng-model="vm.apiDomain.probePrep.probeSenseKey"
                               ng-change="changeProbePrep()"
                               >
                               <option value="">Search All</option>
                        </select>
		</div>
		<div class="col-sm-2" style="">
		        <label class="label label-edit-search">Labelled with</label><br>
                        <select type=dropdown size="1" id="probeLabel" 
			 ng-options="choice.termKey as choice.term for choice in vm.labelLookup"
                               ng-model="vm.apiDomain.probePrep.labelKey"
                               ng-change="changeProbePrep()"
                               >
                               <option value="">Search All</option>
                        </select>
		</div>
		<div class="col-sm-2" style="">
		        <label class="label label-edit-search">Visualized with</label><br>
                        <select type=dropdown size="1" id="probeVisualization" 
			 ng-options="choice.termKey as choice.term for choice in vm.visualizationLookup"
                               ng-model="vm.apiDomain.probePrep.visualizationMethodKey"
                               ng-change="changeProbePrep()"
                               >
                               <option value="">Search All</option>
                        </select>
		</div>
		</div>
                </div>

                <div ng-if="vm.apiDomain.isAntibodyPrep == true || vm.apiDomain.detectionKey == 2">
		<div class="row topMargin">
		<div class="col-sm-2" style="">
			<label class="label label-edit-search">Antibody Acc ID</label>
			<input type="text" class="form-control" 
				ng-model="vm.apiDomain.antibodyPrep.antibodyAccID" id="antibodyAccID"
                                ng-change="changeAntibodyPrep()"
                                ng-blur="validateAntibody(vm.apiDomain.antibodyPrep, 'antibodyAccID')"
			></input>
		</div>
		<div class="col-sm-2" style="">
			<label class="label label-search">Antibody Name</label>
			<input type="text" class="form-control" 
				ng-model="vm.apiDomain.antibodyPrep.antibodyName" id="antibodyName" tabindex="-1"
                                ng-change="changeAntibodyPrep()"
			></input>
		</div>
		<div class="col-sm-4" style="">
		        <label class="label label-edit-search">Secondary Antibody</label><br>
                        <select type=dropdown size="1" id="secondaryAntibody" 
			 ng-options="choice.termKey as choice.term for choice in vm.secondaryLookup"
                               ng-model="vm.apiDomain.antibodyPrep.secondaryKey"
                               ng-change="changeAntibodyPrep()"
                               >
                               <option value="">Search All</option>
                        </select>
		</div>
		<div class="col-sm-2" style="">
		        <label class="label label-edit-search">Labelled with</label><br>
                        <select type=dropdown size="1" id="antibodyLabel" 
			 ng-options="choice.termKey as choice.term for choice in vm.labelLookup"
                               ng-model="vm.apiDomain.antibodyPrep.labelKey"
                               ng-change="changeAntibodyPrep()"
                               >
                               <option value="">Search All</option>
                        </select>
		</div>
		</div>
		</div>

		<div class="row sectionDivider topMargin">
                </div>

                <div ng-show="vm.apiDomain.isInSitu==true">
		<div class="row">
		        <div class="spacer"></div>
		        <div class="col-sm-12" style="">
		        <div class="col-sm-4" style="">
			<label class="label label-edit">Specimen Table</label>
		        <button type="button" id="ToResultsButton" tabindex="-1"
			        ng-click="changeSpecimenResultRow(vm.selectedSpecimenResultIndex, true)" >To Results Table</button>
		        <button type="button" id="showAllButton" tabindex="-1"
			        ng-click="showAllColumns('specimenTable')" >Show All Columns</button>
                        </div>
		        <div class="col-sm-4" style="">
                        <div id="ageNoteWrapper">
		        <button type="button" id="ageNotSpecifiedButton" tabindex="-1"
			        ng-click="attachAgeNote('Age of embryo at noon of plug day not specified in reference.')" >Age Not Specified</button>
		        <button type="button" id="ageNotNormalizedButton" tabindex="-1"
			        ng-click="attachAgeNote('Age normalized so that noon of plug day = E0.5.')" >Age Normalized</button>
		        <button type="button" id="ageNotAssignedButton" tabindex="-1"
			        ng-click="attachAgeNote('Age assigned by curator based on morphological criteria supplied by authors.')" >Age Assigned</button>
		        </div>
                        </div>
		        <div class="col-sm-4" style="text-align:right;">
		        <button type="button" id="specNoteDoubleButton" tabindex="-1"
			        ng-click="addSpecimenDoubleTag()" >Add Double Label</button>
		        <button type="button" id="addSpecimenAccMGITagButton" tabindex="-1" 
			        ng-click="addSpecimenAccMGITag()" >Add Acc/MGI</button>
		        </div>
                        </div>
                </div>

		<div class="row">
        		<div class="col-sm-12" style="">
                	<div id="specimenTableWrapper" tabindex="-1">
                	<table class="table table-bordered scrollable-menu" id="specimenTable">

			<!-- table header -->
                	<thead>
                	<tr>
                	<th style="width:5px;"></th>
			<th title="sequenceNum">
                                <div>
                                <div>
                                #
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('sequenceNum')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Specimen Label">
                                <div>
                                <div>
                                Specimen
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('specimenLabel')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenRow('specimenLabel')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Genotype">
                                <div>
                                <div>
                                Genotype
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('genotypeAccID')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenRow('genotypeAccID')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Age" style="width:5px;" >
                                <div>
                                <div>
                                Age
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('agePrefix')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenRow('agePrefix')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Age Range">
                                <div>
                                <div>
                                Age Range
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('ageStage')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenRow('ageStage')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Age Note" style="width:100px;" >
                                <div>
                                <div>
                                Age Note
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('ageNote')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenRow('ageNote')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Sex" style="width:15px;" >
                                <div>
                                <div>
                                Sex
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('sex')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenRow('sex')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Fixation" style="width:15px;" >
                                <div>
                                <div>
                                Fixation
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('fixationMethod')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenRow('fixationKey')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Embedding" style="width:15px;" >
                                <div>
                                <div>
                                Embedding
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('embeddingMethod')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenRow('embeddingKey')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Hybridiztion" style="width:15px;" >
                                <div>
                                <div>
                                Hybridization
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('hybridization')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenRow('hybridization')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="R" style="width:25px;">
                                <div>
                                <div>
                                R
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Notes" style="width:100px;" >
                                <div>
                                <div>
                                Notes
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortSpecimenTable('specimenNote')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenRow('specimenNote')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	</tr>
			</thead>

			<!-- table body -->
                	<!-- if deleting row, turn it orange --> 
                	<!-- if adding new row, turn it lime --> 

                	<tbody> 

			<!-- table rows; includes row -->
                	<tr ng-repeat="row in vm.apiDomain.specimens track by $index"
				ng-click="selectSpecimenRow($index)"
                                ng-class="{selectedRow:$index==vm.selectedSpecimenIndex, deleteRow:row.processStatus == 'd'}"
                        	ng-class-odd="'oddRow'"
				>

                	<td style="width:5px;">
                        <span id="deleteRow-{{$index}}" ng-click="row.processStatus == 'x' ? row.processStatus = 'd' : row.processStatus = 'x'">
                        	<img src="/pwi/static/images/remove.png"
                        	style="width:12px; height: 12px; cursor: pointer;" />
                	</span>
                	</td>

                        <td style="width:4em;">
                        <span>
                        <input style="" class="form-control" type="number" min="1" max="999" tabindex="-1"
                                ng-model="row.sequenceNum"
                                ng-change="changeSpecimenRow($index, false)"
                                >
                        </span>
                        </td>

			<td>
			<textarea class="form-control" type="text" id="specimenLabel-{{$index}}" style="width:125px;"
				ng-model="row.specimenLabel"
				ng-change="changeSpecimenRow($index, false)"
				ng-keydown="validateSpecimen($event, row, $index, 'specimenLabel')"
                                ng-style="colSizes[0]" 
                                ng-mousedown="startColResize($event, 0)"
				></textarea>
			</td>

			<td>
			<textarea class="form-control" type="text" id="sgenotypeAccID-{{$index}}" style="width:105px;"
				ng-model="row.genotypeAccID"
				ng-change="changeSpecimenRow($index, false)"
				ng-keydown="validateGenotype(row, $index, 'sgenotypeAccID-')"
                                ng-style="colSizes[1]" 
                                ng-mousedown="startColResize($event, 1)"
				></textarea>
			</td>

                        <td style="width:5px;">
                        <select type=dropdown size="1" id="sage-{{$index}}" 
				ng-options="choice.term as choice.abbreviation for choice in vm.ageLookup"
                        	ng-model="row.agePrefix"
				ng-change="changeSpecimenRow($index, false)"
				ng-keydown="validateSpecimen($event, row, $index, 'agePrefix')"
				>
				<option value=""></option>
                        </select>
                        </td>

			<td>
			<textarea class="form-control" type="text" id="sageStage-{{$index}}" style="width:60px;"
				ng-model="row.ageStage"
				ng-change="changeSpecimenRow($index, false)"
				ng-keydown="validateSpecimen($event, row, $index, 'ageStage')"
                                ng-style="colSizes[2]" 
                                ng-mousedown="startColResize($event, 2)"
				></textarea>
			</td>

			<td>
			<textarea class="form-control" type="text" id="sageNote-{{$index}}" style="width:100px;"
				ng-model="row.ageNote"
				ng-change="changeSpecimenRow($index, false)"
                                ng-style="colSizes[3]" 
                                ng-mousedown="startColResize($event, 3)"
				></textarea>
			</td>

                        <td style="width:15px;">
                        <select type=dropdown size="1" id="sgender-{{$index}}" 
				ng-options="choice.term as choice.term for choice in vm.genderLookup"
                        	ng-model="row.sex"
				ng-change="changeSpecimenRow($index, false)"
				ng-keydown="validateSpecimen($event, row, $index, 'sex')"
				>
				<option value=""></option>
                        </select>
                        </td>

                        <td style="width:15px;">
                        <select type=dropdown size="1" id="fixation-{{$index}}" 
				ng-options="choice.termKey as choice.term for choice in vm.fixationLookup"
                        	ng-model="row.fixationKey"
				ng-change="changeSpecimenRow($index, false)"
				ng-keydown="validateSpecimen($event, row, $index, 'fixationKey')"
				>
				<option value=""></option>
                        </select>
                        </td>

                        <td style="width:15px;">
                        <select type=dropdown size="1" id="embedding-{{$index}}" 
				ng-options="choice.termKey as choice.term for choice in vm.embeddingLookup"
                        	ng-model="row.embeddingKey"
				ng-change="changeSpecimenRow($index, false)"
				ng-keydown="validateSpecimen($event, row, $index, 'embeddingKey')"
				>
				<option value=""></option>
                        </select>
                        </td>

                        <td style="width:15px;">
                        <select type=dropdown size="1" id="hybridization-{{$index}}" 
				ng-options="choice.term as choice.term for choice in vm.hybridizationLookup"
                        	ng-model="row.hybridization"
				ng-change="changeSpecimenRow($index, false)"
				ng-keydown="validateSpecimen($event, row, $index, 'hybridization')"
				>
				<option value=""></option>
                        </select>
                        </td>

			<td style="width:25px;">
			<input class="form-control" type="text" id="sresults-{{$index}}" tabindex="-1"
				ng-model="row.sresultsCount"
				ng-change="changeSpecimenRow($index, false)"
				>
			</td>

			<td>
			<textarea class="form-control" id="specimenNote-{{$index}}" style="width:100px;"
				ng-model="row.specimenNote"
				ng-change="changeSpecimenRow($index, false)"
				ng-keydown="setSpecimenNextRow($event, $index)"
                                ng-style="colSizes[4]" 
                                ng-mousedown="startColResize($event, 4)"
				></textarea>
			</td>

			</tr>

			</tbody>
			</table>
			</div>
			<!-- end table -->
			</div>
			<!-- end col-sm-12 -->
		</div>
		<!-- end row -->

		<div class="row">
                        <button type="button" style="float:left;" tabindex="-1" id="addSpecimenButton" 
				ng-class=""
                                ng-click="addSpecimenRow()" >Add Row</button>
                        <button type="button" style="float:left;" tabindex="-1" id="insertSpecimenButton" 
				ng-class=""
                                ng-click="insertSpecimenRow()" >Insert Row</button>
                        <button type="button" style="float:left;" tabindex="-1" id="addEmapaButton" 
				ng-class=""
                                ng-click="addToEmapa()" >Add Assay Structures To EMAPA Clipboard</button>
                        <button type="button" style="float:left;" tabindex="-1" id="replaceGenotypeButton" 
                                ng-class="{activeReplaceGenotype:vm.activeReplaceGenotype == true}"
                                ng-click="setActiveReplaceGenotype()" >Replace Genotype</button>
                </div>

                </div>
                <!-- ng-show="vm.apiDomain.isInSitu==true" -->

                <div ng-show="vm.apiDomain.isGel==true">
		<div class="row">
		        <div class="spacer"></div>
		        <div class="col-sm-12" style="">
		        <div class="col-sm-4" style="">
			<label class="label label-edit">Gel Lane Table</label>
		        <button type="button" id="showAllButton" tabindex="-1"
			        ng-click="showAllColumns('gelLaneTable')" >Show All Columns</button>
                        </div>
		        <div class="col-sm-4" style="">
                        <div id="ageNoteWrapper">
		        <button type="button" id="ageNotSpecifiedButton" tabindex="-1"
			        ng-click="attachAgeNote('Age of embryo at noon of plug day not specified in reference.')" >Age Not Specified</button>
		        <button type="button" id="ageNotNormalizedButton" tabindex="-1"
			        ng-click="attachAgeNote('Age normalized so that noon of plug day = E0.5.')" >Age Normalized</button>
		        <button type="button" id="ageNotAssignedButton" tabindex="-1"
			        ng-click="attachAgeNote('Age assigned by curator based on morphological criteria supplied by authors.')" >Age Assigned</button>
		        </div>
                        </div>
                        </div>
                </div>
		<div class="row">
        		<div class="col-sm-12" style="">
                	<div id="gelLaneTableWrapper" tabindex="-1">
                	<table class="table table-bordered scrollable-menu" id="gelLaneTable">

			<!-- table header -->
                	<thead>
                	<tr>
                	<th style="width:5px;"></th>
			<th title="sequenceNum">
                                <div>
                                <div>
                                #
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('sequenceNum')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Label">
                                <div>
                                <div>
                                Lane
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('laneLabel')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnGelLaneRow('laneLabel')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Control" style="width:15px;" >
                                <div>
                                <div>
                                Control
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('gelControl')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnGelLaneRow('gelControlKey')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Genotype">
                                <div>
                                <div>
                                Genotype
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('genotypeAccID')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnGelLaneRow('genotypeAccID')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="EMAPA" style="width:50px;" >
                                <div>
                                <div>
                                EMAPA
                                </div>
                                <div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                                </div>
                        </th>
                	<th title="Sample Amt" style="width:50px;" >
                                <div>
                                <div>
                                Sample Amt
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('sampleAmount')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnGelLaneRow('sampleAmount')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="RNA" style="width:15px;" >
                                <div>
                                <div>
                                RNA
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('gelRNAType')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnGelLaneRow('gelRNATypeKey')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Age" style="width:15px;" >
                                <div>
                                <div>
                                Age
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('agePrefix')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnGelLaneRow('agePrefix')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Age Range">
                                <div>
                                <div>
                                Age Range
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('ageStage')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnGelLaneRow('ageStage')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Age Note" style="width:90px;" >
                                <div>
                                <div>
                                Age Note
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('ageNote')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnGelLaneRow('ageNote')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Sex" style="width:15px;" >
                                <div>
                                <div>
                                Sex
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('sex')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnGelLaneRow('sex')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	<th title="Notes" style="width:90px;" >
                                <div>
                                <div>
                                Notes
                                </div>
                                <div>
                        	<img src="/pwi/static/images/collapse.png" ng-click="collapseColumnHandler($event)"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/arrows.svg" ng-click="sortGelLaneTable('laneNote')"
                        	style="width:12px; height: 12px; cursor: pointer;"
                                </img>
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnGelLaneRow('laneNote')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                                </div>
                                </div>
                        </th>
                	</tr>
			</thead>

			<!-- table body -->
                	<!-- if deleting row, turn it orange --> 
                	<!-- if adding new row, turn it lime --> 

                	<tbody> 

			<!-- table rows; includes row -->
                	<tr ng-repeat="row in vm.apiDomain.gelLanes track by $index"
				ng-click="selectGelLaneRow($index)"
                                ng-class="{selectedRow:$index==vm.selectedGelLaneIndex, deleteRow:row.processStatus == 'd'}"
                        	ng-class-odd="'oddRow'"
				>

                	<td style="width:5px;">
                        <span id="deleteRow-{{$index}}" ng-click="row.processStatus == 'x' ? row.processStatus = 'd' : row.processStatus = 'x'">
                        	<img src="/pwi/static/images/remove.png"
                        	style="width:12px; height: 12px; cursor: pointer;" />
                	</span>
                	</td>

                        <td style="width:4em;">
                        <span>
                        <input style="" class="form-control" type="number" min="1" max="999" tabindex="-1"
                                ng-model="row.sequenceNum"
                                ng-change="changeGelLaneRow($index, false)"
                                >
                        </span>
                        </td>

			<td>
			<textarea class="form-control" type="text" id="laneLabel-{{$index}}" style="width:125px;"
				ng-model="row.laneLabel"
				ng-change="changeGelLaneRow($index, false)"
				ng-keydown="validateGelLane($event, row, $index, 'laneLabel')"
                                ng-style="colSizes[5]" 
                                ng-mousedown="startColResize($event, 5)"
				></textarea>
			</td>

                        <td style="width:15px;">
                        <select type=dropdown size="1" id="gelControl-{{$index}}" 
				ng-options="choice.termKey as choice.term for choice in vm.gelControlLookup"
                        	ng-model="row.gelControlKey"
				ng-change="changeGelControlRow($index);changeGelLaneRow($index, false);"
				ng-keydown="validateGelLane($event, row, $index, 'gelControlKey')"
				>
				<option value=""></option>
                        </select>
                        </td>

			<td>
			<textarea class="form-control" type="text" id="ggenotypeAccID-{{$index}}" style="width:105px;"
				ng-model="row.genotypeAccID"
				ng-change="changeGelLaneRow($index, false)"
				ng-keydown="validateGenotype(row, $index, 'ggenotypeAccID-')"
                                ng-style="colSizes[6]" 
                                ng-mousedown="startColResize($event, 6)"
				></textarea>
			</td>

			<td>
			<input class="form-control" type="text" id="gstructure-{{$index}}" style="width:40px;"
				ng-model="row.structuresCount"
				ng-change="changeGelLaneRow($index, false)"
				ng-keydown="validateGelLane($event, row, $index, 'structures')"
				>
			</td>

			<td>
			<textarea class="form-control" type="text" id="sampleAmount-{{$index}}" style="width:60px;"
				ng-model="row.sampleAmount"
				ng-change="changeGelLaneRow($index, false)"
				ng-keydown="validateGelLane($event, row, $index, 'sampleAmount')"
                                ng-style="colSizes[7]" 
                                ng-mousedown="startColResize($event, 7)"
				></textarea>
			</td>

                        <td style="width:15px;">
                        <select type=dropdown size="1" id="gelRNAType-{{$index}}" 
				ng-options="choice.termKey as choice.term for choice in vm.gelRNATypeLookup"
                        	ng-model="row.gelRNATypeKey"
				ng-change="changeGelLaneRow($index, false)"
				ng-keydown="validateGelLane($event, row, $index, 'gelRNATypeKey')"
				>
				<option value=""></option>
                        </select>
                        </td>

                        <td style="width:15px;">
                        <select type=dropdown size="1" id="gage-{{$index}}" 
				ng-options="choice.term as choice.abbreviation for choice in vm.ageLookup"
                        	ng-model="row.agePrefix"
				ng-change="changeGelLaneRow($index, false)"
				ng-keydown="validateGelLane($event, row, $index, 'agePrefix')"
				>
				<option value=""></option>
                        </select>
                        </td>

			<td>
			<textarea class="form-control" type="text" id="gageStage-{{$index}}" style="width:60px;"
				ng-model="row.ageStage"
				ng-change="changeGelLaneRow($index, false)"
				ng-keydown="validateGelLane($event, row, $index, 'ageStage')"
                                ng-style="colSizes[8]" 
                                ng-mousedown="startColResize($event, 8)"
				></textarea>
			</td>

			<td>
			<textarea class="form-control" type="text" id="gageNote-{{$index}}" style="width:90px;"
				ng-model="row.ageNote"
				ng-change="changeGelLaneRow($index, false)"
                                ng-style="colSizes[9]" 
                                ng-mousedown="startColResize($event, 9)"
				></textarea>
			</td>

                        <td style="width:15px;">
                        <select type=dropdown size="1" id="ggender-{{$index}}" 
				ng-options="choice.term as choice.term for choice in vm.genderLookup"
                        	ng-model="row.sex"
				ng-change="changeGelLaneRow($index, false)"
				ng-keydown="validateGelLane($event, row, $index, 'sex')"
				>
				<option value=""></option>
                        </select>
                        </td>

			<td>
			<textarea class="form-control" id="laneNote-{{$index}}" style="width:90px;"
				ng-model="row.laneNote"
				ng-change="changeGelLaneRow($index, false)"
				ng-keydown="setGelLaneNextRow($event, $index)"
                                ng-style="colSizes[10]" 
                                ng-mousedown="startColResize($event, 10)"
				></textarea>
			</td>

			</tr>

			</tbody>
			</table>
			</div>
			<!-- end table -->
			</div>
			<!-- end col-sm-12 -->
		</div>
		<!-- end row -->

		<div class="row">
                        <button type="button" style="float:left;" tabindex="-1" id="addGelLaneButton" 
				ng-class=""
                                ng-click="addGelLaneRow(true)" >Add Row</button>
                        <button type="button" style="float:left;" tabindex="-1" id="insertGelLaneButton" 
				ng-class=""
                                ng-click="insertGelLaneRow()" >Insert Row</button>
                        <button type="button" style="float:left;" tabindex="-1" id="addEmapaButton"
                                ng-class=""
                                ng-click="addToEmapa()" >Add Assay Structures To EMAPA Clipboard</button>
                        <button type="button" style="float:left;" tabindex="-1" id="replaceGenotypeButton" 
                                ng-class="{activeReplaceGenotype:vm.activeReplaceGenotype == true}"
                                ng-click="setActiveReplaceGenotype()" >Replace Genotype</button>
                </div>

                </div>
                <!-- ng-show="vm.apiDomain.isGel==true" -->

		<div class="row">
        		<div class="col-sm-3" style="">

		        <div class="row">

        		<div class="col-sm-12" style="">
		        <div class="row">
        		<div class="col-sm-12" style="">
                        <button type="button" style="float:left;" tabindex="-1" id="imagePanesCount" 
				ng-class=""
                                ng-click="refreshImagePane()" >Image Panes: {{vm.imagePaneLookup.length}} result(s)
                        </button>
                        </div>
                        </div>

		        <div id="imagePaneTableWrapper" tabindex="-1">
		        <table class="table table-bordered scrollable-menu" id="imagePaneTable" style="">
    		        <tbody>
			<tr ng-repeat="row in vm.imagePaneLookup" 
                                ng-mousedown="selectImagePane($index)"
				>
		    	<td style="min-width: 200px; padding: 3px; font-size: .9em;" id="imagePaneTerm-{{$index}}">{{row.figurepaneLabel}}
                        </td>
			</tr>
		        </tbody>
		        </table>
		        </div>

		        <div class="spacer"></div>
		        <div class="spacer"></div>

		        <div class="row">
        		<div class="col-sm-12" style="">
                        <button type="button" style="float:left;" tabindex="-1" id="emapaCount" 
				ng-class=""
                                ng-click="refreshEmapa()" >EMAPA stage;structure: {{vm.emapaLookup.length}} result(s)
                        </button>
                        </div>
                        </div>

		        <div id="emapaTableWrapper" tabindex="-1">
		        <table class="table table-bordered scrollable-menu" id="emapaTable" style="">
    		        <tbody>
			<tr ng-repeat="row in vm.emapaLookup" 
                                ng-mousedown="selectEmapa($index)"
				>
		    	<td style="min-width: 200px; padding: 3px; font-size: .9em;" id="emapaTerm-{{$index}}">{{row.displayIt}}</td>
			</tr>
		        </tbody>
		        </table>
		        </div>

                        </div>
                        </div>
                        </div>

			<!-- specimen results/gel row/band -->
        		<div class="col-sm-9" style="">
		        <div class="row">

			<div ng-show="vm.apiDomain.isInSitu==true" class="col-sm-12" style="">
        		<div class="col-sm-12" style="">
        		<div class="col-sm-4" style="">
			<button type="button" id="snextButton"  tabindex="-1" ng-click="nextSpecimen()" >Next</button>
			<button type="button" id="sprevButton"  tabindex="-1" ng-click="prevSpecimen()" >Prev</button>
			<label class="label-static">Specimen Label = {{vm.apiDomain.specimens[vm.selectedSpecimenIndex].specimenLabel}}</label>
                        </div>
        		<div class="col-sm-4" style="">
			<label class="label-static" style="text-align:center;">Results Table</label>
		        <button type="button" id="ToSpecimenButton" tabindex="-1"
			        ng-click="changeSpecimenRow(vm.selectedSpecimenIndex, true)" >To Specimen Table</button>
                        </div>
                        </div>

                	<div id="sresultTableWrapper" tabindex="-1" >
                	<table class="table table-bordered scrollable-menu" id="sresultTable" >
			<!-- table header -->
                	<thead>
                	<tr>
                	<th style="width:5px;"></th>
                	<th style="width:35px;">EMAPA</th>
                	<th style="width:30px;">CL</th>
                	<th style="width:50px;">Strength
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenResultRow('strengthKey')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                        </th>
                	<th style="width:50px;">Pattern
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenResultRow('patternKey')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                        </th>
                	<th style="width:150px;">Image Panes
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenResultRow('imagePanes')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                        </th>
                	<th style="width:450px;">Notes
                        	<img src="/pwi/static/images/copycolumn.png" ng-click="copyColumnSpecimenResultRow('resultNote')"
                        	style="width:15px; height: 15px; cursor: pointer;"
                                </img>
                        </th>
                	</tr>
			</thead>

			<!-- table body -->
                	<!-- if deleting row, turn it orange --> 

                	<tbody>

			<!-- table rows -->
                	<tr ng-repeat="sresult in vm.apiDomain.specimens[vm.selectedSpecimenIndex].sresults"
				ng-click="selectSpecimenResultRow($index)"
                                ng-class="{selectedRow:$index==vm.selectedSpecimenResultIndex, deleteRow:sresult.processStatus == 'd'}"
                        	ng-class-odd="'oddRow'"
				>

                	</td>

                	<td style="width:5px;">
                        <span id="deleteRow-{{$index}}" ng-click="deleteSpecimenResultRow($index)">
                        	<img src="/pwi/static/images/remove.png"
                        	style="width:12px; height: 12px; cursor: pointer;" />
                	</span>
                	</td>
                        
			<td>
			<input class="form-control" type="text" id="sstructure-{{$index}}" style="width:35px;"
				ng-model="sresult.structuresCount"
				ng-change="changeSpecimenResultRow($index, false)"
				>
			</td>

			<td>
			<input class="form-control" type="text" id="scelltype-{{$index}}" style="width:30px;"
				ng-model="sresult.celltypesCount"
				ng-change="changeSpecimenResultRow($index, false)"
				>
			</td>

                        <td>
                        <select type=dropdown size="1" id="strength-{{$index}}" 
				ng-options="choice.termKey as choice.term for choice in vm.strengthLookup"
                        	ng-model="sresult.strengthKey"
				ng-change="changeSpecimenResultRow($index, false)"
				ng-blur="validateSresults(sresult, $index, 'strength')"
				>
				<option value=""></option>
                        </select>
                        </td>

                        <td>
                        <select type=dropdown size="1" id="pattern-{{$index}}" 
				ng-options="choice.termKey as choice.term for choice in vm.patternLookup"
                        	ng-model="sresult.patternKey"
				ng-change="changeSpecimenResultRow($index, false)"
				ng-blur="validateSresults(sresult, $index, 'pattern')"
				>
				<option value=""></option>
                        </select>
                        </td>

			<!-- ng-keydown is on purpose -->
			<td>
			<textarea class="form-control" type="text" id="imagePane-{{$index}}" style="width:150px;"
				ng-model="sresult.imagePanesString"
				ng-change="changeSpecimenResultRow($index, false)"
				ng-blur="validateSresults(sresult, $index, 'imagePane')"
                                ng-style="colSizes[11]" 
                                ng-mousedown="startColResize($event, 11)"
				></textarea>
			</td>

			<td>
			<textarea class="form-control" id="resultNote-{{$index}}" style="width:450px;"
				ng-model="sresult.resultNote"
				ng-change="changeSpecimenResultRow($index, false)"
				ng-keydown="setSpecimenResultNextRow($event, $index)"
                                ng-style="colSizes[12]" 
                                ng-mousedown="startColResize($event, 12)"
				></textarea>
			</td>

			</tr>

			</tbody>
			</table>
			</div>
			<!-- end table -->

        	        <div class="col-sm-12" style="">
                        <button type="button" style="float:left;" tabindex="-1" id="addSpecimenResultButton" 
				ng-class=""
                                ng-click="addSpecimenResultRow(vm.selectedSpecimenIndex)" >Add Row</button>
                        <button type="button" style="float:left;" tabindex="-1" id="insertSpecimenResultButton" 
				ng-class=""
                                ng-click="insertSpecimenResultRow(vm.selectedSpecimenIndex)" >Insert Row</button>
                        </div>

		        <div class="row">
        		<div class="col-sm-12" style="">
                        <button type="button" style="float:left;" tabindex="-1" id="celltypeCount" 
				ng-class=""
                                ng-click="refreshCellType()" >Cell Ontology: {{vm.celltypeLookup.length}} result(s)
                        </button>
                        </div>
                        </div>

		        <div id="celltypeTableWrapper" tabindex="-1">
		        <table class="table table-bordered scrollable-menu" id="celltypeTable" style="">
    		        <tbody>
			<tr ng-repeat="row in vm.celltypeLookup" 
                                ng-mousedown="selectCellType($index)"
				>
		    	<td style="min-width: 200px; padding: 3px; font-size: .9em;" id="celltypeTerm-{{$index}}">{{row.displayIt}}</td>
			</tr>
		        </tbody>
		        </table>
		        </div>

			</div>
                        <!-- ng-show="vm.apiDomain.isInSitu==true" -->

			<!-- gel row/band -->
        		<div class="col-sm-12" style="">
		        <div class="row">

			<div ng-show="vm.apiDomain.isGel==true" class="col-sm-12" style="">
        		<div class="col-sm-12" style="">
		        <div class="col-sm-2">
                                <label class="label-static" style="float:center;">Gel Rows & Band</label>
                        </div>
		        <div class="col-sm-4">
                        <button type="button" style="float:right;" tabindex="-1" id="addGelRowButton" 
				ng-class=""
                                ng-click="addGelRow(true)" >Add Row</button>
                        </div>
                        </div>

                        <div ng-class="vm.apiDomain.gelRows.length <= 2 ? 'col-md-8' : 'col-md-12'" style="">
                	<div id="gelBandTableWrapper" tabindex="-1" >
                	<table class="table table-bordered scrollable-menu" id="gelBandTable" >
                        <thead>
                        <tr>
                        <th style="width:100px;" </th>
			<th style="width:200px;" ng-repeat="gelrow in vm.apiDomain.gelRows">Gel Row {{gelrow.sequenceNum}}
                                <span id="deleteGelRow-{{$index}}" 
                                        ng-click="gelrow.processStatus == 'x' ? gelrow.processStatus = 'd' : gelrow.processStatus = 'x'"
                                        >
                        	        <img src="/pwi/static/images/remove.png"
                        	        style="width:12px; height: 12px; cursor: pointer;" />
                	        </span>
                        </th>
                        </tr>
                        </thead>

                        <tr>
                                <td style="width:100px;">Size, Unit</td>
                                <td style="" ng-repeat="gelrow in vm.apiDomain.gelRows"
                                        ng-class="{deleteGelRow:gelrow.processStatus == 'd'}"
                                        >
                                <div>
			        <input class="form-control" type="text" id="size-{{$index}}" style="resize:horizontal; width:50px;" tabindex="{{gelrow.sequenceNum}}"
			                ng-model="gelrow.size"
                                        ng-change="changeGelRow($index)"
			        ></input>
                                <select type=dropdown size="1" id="gelUnits-{{$index}}" tabindex="{{gelrow.sequenceNum}}"
				        ng-options="choice.termKey as choice.term for choice in vm.gelUnitsLookup"
                        	        ng-model="gelrow.gelUnitsKey"
				        >
				        <option value=""></option>
                                        ng-change="changeGelRow($index)"
                                </select>
                                </div>
                                </td>
                        </tr>

                        <tr>
                        <td>row note</td>
			<td ng-repeat="gelrow in vm.apiDomain.gelRows">
			<textarea class="form-control" id="rowNote-{{$index}}" tabindex="{{gelrow.sequenceNum}}" style="width:200px;"
				ng-model="gelrow.rowNote"
                                ng-change="changeGelRow($index)"
                                ng-style="colSizes[13]" 
                                ng-mousedown="startColResize($event, 13)"
				></textarea>
                        </td>
                        </tr>

                        <tr style="" ng-repeat="gellane in vm.apiDomain.gelLanes"
                        	        ng-class-odd="'oddRow'"
                                        >
                                <td style="">{{gellane.sequenceNum}};{{gellane.laneLabel}}</td>
                                <td style="" ng-repeat="gelband in gellane.gelBands">

                                <div>
                                <select type=dropdown id="gelstrength-{{$index}}" tabindex="{{gelband.sequenceNum}}"
				        ng-options="choice.termKey as choice.term for choice in vm.gelStrengthLookup"
                        	        ng-model="gelband.strengthKey"
				        ng-change="changeGelBandRow(gellane.sequenceNum-1, $index)"
				        >
				        <option value=""></option>
                                </select>
			        <textarea class="form-control" id="bandNote-{{$index}}" 
				        ng-model="gelband.bandNote"
				        ng-change="changeGelBandRow(gellane.sequenceNum-1, $index)"
				        ng-keydown="setGelBandNextRow($event, gellane.sequenceNum, gelband.sequenceNum)"
                                        ng-style="colSizes[14]" 
                                        ng-mousedown="startColResize($event, 14)"
				        ></textarea>
                                </div>
                                
                                </td>
                        </tr>

			</table>
			</div>
                        </div>
			<!-- end table -->

			</div>
                        <!-- ng-show="vm.apiDomain.isGel==true" -->

                        </div>
                        </div>
			<!-- gel row/band -->

                        </div>
                        </div>
			<!-- specimen results/gel row/band -->

		</div>
		<!-- end row -->

                <!-- tab content -->
                <div class="row sectionDivider topPadding bottomPadding">
                <div class="col-sm-12" style="">

			<!-- Replace Genotype tab -->
			<div ng-if="vm.activeReplaceGenotype==true" class="col-sm-12" style="">
			<div class="row topMargin">
			<div class="col-sm-12" style="">

			<div class="row">
                        <div class="col-sm-2" style="">
                                <label class="label label-edit-search">J#</label>
                                <input type="text" class="form-control"
                                        ng-model="vm.replaceGenoDomain.jnumid" id="replaceGenoJnumID"
                                        ng-blur="validateJnum(vm.replaceGenoDomain, 'replaceGenoJnumID')"
                                ></input>
                        </div>
                        <div class="col-sm-2" style="">
                                <label class="label label-view-only">Citation</label>
                                <input type="text" class="form-control" tabindex="-1"
                                        ng-model="vm.replaceGenoDomain.short_citation" id="replaceGenoShort_citation"
                                ></input>
                        </div>

			</div>

                        <div class="row topMargin">
                        <div class="col-sm-2" style="">
                                <label class="label label-edit-search">Current Genotype Acc ID</label>
                                <input type="text" class="form-control"
                                        ng-model="vm.replaceGenoDomain.currentAccID" id="replaceGenoCurrentAccID"
				        ng-keydown="validateReplaceGeno1('replaceGenoCurrentAccID')"
                                ></input>
                        </div>
                        <div class="col-sm-6" style="">
                                <label class="label label-view-only">Name</label>
                                <input type="text" class="form-control" tabindex="-1" 
                                        ng-model="vm.replaceGenoDomain.currentDisplay" id="replaceGenoCurrentDisplay"
                                ></input>
                        </div>
			</div>

                        <div class="row topMargin">
                        <div class="col-sm-2" style="">
                                <label class="label label-edit-search">New Genotype Acc ID</label>
                                <input type="text" class="form-control" tab-to="replaceGenoJnumID"
                                        ng-model="vm.replaceGenoDomain.newAccID" id="replaceGenoNewAccID"
				        ng-keydown="validateReplaceGeno2('replaceGenoNewAccID')"
                                ></input>
                        </div>
                        <div class="col-sm-6" style="">
                                <label class="label label-view-only">Name</label>
                                <input type="text" class="form-control" tabindex="-1" 
                                        ng-model="vm.replaceGenoDomain.newDisplay" id="replaceGenoNewDisplay"
                                ></input>
                        </div>
                        </div>

                        <div class="row topMargin">
                        <div class="col-sm-12" style="">
                               <button type="button" id="replaceGenoProcessButton" tabindex="-1"  
                                        ng-click="processReplaceGenotype('replaceGenoJnumID')"
                                        >Process Replace Genotype</button>
                               <button type="button" id="replaceGenoClearButton" tabindex="-1"  
                                        ng-click="clearReplaceGenotype(true, 'replaceGenoJnumID')"
                                        >Clear Replace Genotype</button>
                        </div>
                        </div>

			</div>
			</div>
			</div>
		</div>
		</div>
                <!-- end tab content -->

	</div>
	<!-- main class -->

	<!-- main right panel -->
	<div class="col-sm-2 section" style="min-height:1500px;">

		<button type="submit" id="searchButton" tabindex="-1" ng-click="search()" >Search</button>
		<button type="button" id="clearButton" tabindex="-1" ng-mousedown="clear()" >Clear</button>
		<button type="button" id="modifyButton" tabindex="-1" ng-click="modify()" >Modify</button>
		<button type="button" id="createButton" tabindex="-1" ng-click="create()" >Add</button>
		<button type="button" id="deleteButton" tabindex="-1" ng-click="delete()" >Delete</button>

		<div class="spacer"></div>
		<div class="row">
		<div class="col-sm-12" style="">
			<div id="totalCount"># of records: {{vm.total_count}}</div>
		</div>
		</div>

		<div class="spacer"></div>
		<div class="row topMargin">
			<div class="col-sm-6" style="">
				<label class="label label-search">Created By</label>
				<input class="form-control" ng-model="vm.apiDomain.createdBy" id="createdBy" />
			</div>
			<div class="col-sm-6" style="">
				<label class="label label-search">Creation Date</label>
				<input class="form-control" ng-model="vm.apiDomain.creation_date" id="creationDate" />
			</div>
		</div>

		<div class="row topMargin">
			<div class="col-sm-6" style="">
				<label class="label label-search">Modified By</label>
				<input class="form-control" ng-model="vm.apiDomain.modifiedBy" id="modifiedBy" />
			</div>
			<div class="col-sm-6" style="">
				<label class="label label-search">Modification Date</label>
				<input class="form-control" ng-model="vm.apiDomain.modification_date" id="modificationDate" />
			</div>
		</div>

		<div class="row topMargin">
			<div class="col-sm-6" style="">
				<label class="label label-search">MGI ID</label><br>
				<input class="form-control" style="min-width:125px;" id="accID" tab-to="createdBy"
					ng-model="vm.apiDomain.accID" 
				/>
			</div>
		</div>

		<div class="spacer"></div>
		<div class="row">
		<div class="col-sm-12" style="">
			<div id="resultsCount">Search: {{vm.results.length}} result(s) returned</div>
			<button type="button" id="firstButton" tabindex="-1" ng-click="firstSummaryObject()" >First</button>
			<button type="button" id="nextButton"  tabindex="-1" ng-click="nextSummaryObject()" >Next</button>
			<button type="button" id="prevButton"  tabindex="-1" ng-click="prevSummaryObject()" >Prev</button>
			<button type="button" id="lastButton"  tabindex="-1" ng-click="lastSummaryObject()" >Last</button>
			<div id="resultTableWrapper">
			<table class="table table-bordered scrollable-menu" id="resultsTable" style="">
    			<tbody>
				<tr ng-repeat="result in vm.results" 
					ng-click="selectResult($index)" 
					ng-class="($index==vm.selectedIndex) ? 'selectedRow' : ''"
					ng-class-odd="'oddRow'">
			    	<td style="min-width: 200px; padding: 3px; font-size: .9em;">{{result.assayDisplay}}</td>
				</tr>
			</tbody>
			</table>
			</div>

		        <div class="row sectionDivider topMargin"></div>
		        <div id="genotypeTableWrapper" tabindex="-1">
		        <table class="table table-bordered scrollable-menu" id="genotypeTable" style="">

			<!-- table header -->
                        <button type="button" style="float:left;" tabindex="-1" id="genotypeCount" 
				ng-class=""
                                ng-click="selectGenotypeRow()" >Genotype: {{vm.genotypeLookup.length}} result(s)
                        </button>
    		        <tbody>
			<tr ng-repeat="row in vm.genotypeLookup" 
				ng-mousedown="selectGenotype($index)" 
				>
		    	<td style="padding: 3px; font-size: .9em;" id="genotypeTerm-{{$index}}">{{row.displayIt}}</td>
			</tr>
		        </tbody>
		        </table>
		        </div>

		</div>
		</div>

	</div>
</div>
</div>
</form>

<!-- Java API JSON data dump -->
<br><br>
<div class="container-fluid">
	<div class="row">
		<div class="col-sm-12">
			<button type="button" id="showApiDomainButton" tabindex="-1" ng-click="vm.hideApiDomain = !vm.hideApiDomain" 
					>Show JSON package/API domain only</button>				
			<button type="button" id="showSummaryButton" tabindex="-1" ng-click="vm.hideVmData = !vm.hideVmData;" 
					>Show JSON package/API domain + other data</button>			
			<div ng-hide="vm.hideApiDomain">
				<pre>{{ vm.apiDomain | json : spacing }}</pre>
			</div>
			<div ng-hide="vm.hideVmData">
				<pre>{{ vm | json : spacing }}</pre>
			</div>
		</div>
	</div>
</div> 

