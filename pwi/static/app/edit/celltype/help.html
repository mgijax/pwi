<hr/>
<h4>Cell Type Browser Functionality</h4>

<h5>Term Search</h5>
<ul>
    <li> When opening module, focus is in Term Search field.
    <li> Searches Cell Type (CL) ontology file for term names, EXACT synonyms and CL ids.
    <li> Searches using exact string matches or for text using wild cards 
    <li> Search is case-insensitive.
    <li> % is a wild card. <br>Examples: 
    <ul>
      <li> adipocyte of%
      <li> %cell
      <li> %endothelial%
      <li> %germ%cell%
    </ul>
    <li> Search without wild card(s) brings back only exact matching term or synonym. Not a contains search. <br>Example: Search for "cell" only returns CL:0000000 cell.
    <li> Search recognizes numbers, space, hyphen, slash, and comma as regular characters; they are not ignored.
    <li> Search for multiple terms or multiple text strings not currently enabled. 
    <li> Synonyms matching search are shown in search results contained within parentheses.
    <ul>
        <li> only if searched text is not in actual term
        <li> if >1 synonyms match, only one synonym shown
    </ul>
    <li> Search term or text string is bolded in search results
    <ul>
        <li> in term name if match is within term name (case-insensitive).
        <li> in synonym only if displayed (see above) and only if searched for text is not in the actual term name.
    </ul>
    <li> First search item returned is highlighted in list, displayed in Term detail and in ontology tree view.<br>Thereafter, any selected term is highlighted and displayed in above mentioned sections.
    <li> Sort order of search return is alphabetical.
    <li> Count of number of terms returned is displayed.
</ul>

<h5>Adding to clipboard</h5>
<ul>
    <li> Add to clipboard button adds selected (highlighted) term to clipboad.
    <li> Term is added only if not already in clipboard. 
    <li> Added term is appended to end of clipboard. <br>Clipboard order initially determined by order in which terms were added.
    <li> Terms are added to curator's clipboard in database.<br> Clipboard contents and order are reflected in both Cell Type browser and Assay modules.
    <li> No change to search field contents or list of results after adding term to clipboard.
</ul>

<h5>Tabbing behavior</h5>
<ul>
    <li> Tabbing toggles focus between Term Search field and Add to Clipboard button.
    <li> Location of focus determines behavior of Enter key.
    <ul>
        <li> When focus is on Search field, Enter initiates search for terms matching text in Search field.
        <li> When focus is on Add to Clipboard, Enter adds selected (i.e. highlighted) term to clipboard
    </ul>
</ul>

<h5>Clipboard behavior</h5>
<ul>
   <li> If not logged in, user cannot view or add to clipboard. (i.e. Clipboard is disabled.)
   <li> Each user has own clipboard in database, allowing a persistent clipboard. 
   <li> Clipboard items remain in database until removed or clipboard is cleared.
   <li> Selected terms can be removed from clipboard using the 'X' next to the term.
   <li> Any interaction with clipboard refreshes it.
   <li> Count for number of items in clipboard is displayed.
</ul>

<h5>Clipboard sort</h5>
<ul>
   <li> Reorders clipboard contents in alpha sorted order
   <li> Contents is reordered clipboard and in database
   <li> Clipboard Count is unchanged 
   <li> Sorted clipboard is persistent in database
</ul>

<h5>Clipboard clear</h5>
<ul>
   <li> Removes clipboard contents from display and from database
   <li> Clipboard Count is updated - i.e. 0 clipboard items
   <li> Cleared clipboard is persistent in database
</ul>

<h5>Keyboard shortcuts</h5>
<ul>
    <li>Ctrl-Alt-C - clears CL Search fields
    <li>Ctrl-Alt-K - clears Clipboard contents
</ul>

<h5>Term Detail</h5>
<ul>
    <li>Term detail includes
    <ul>
        <li> cell type term name
        <li> CL ontology ID
        <li> cell type term definition
        <li> EXACT synonym(s) only - separated by comma(s)
        <li> direct parent term(s) - separated by line break(s)
    </ul>
    <li> Selected term name is bolded and highlighted.
    <li> Secondary ids (alt-ids) are not displayed
    <li> Parent Term(s) 
    <ul>
        <li> relationships are all is_a; relationship is not displayed.
        <li> listed alphabetically on separate lines
        <li> include links to parent term detail page
        <li> clicking on link to parent term page will update term detail section and tree view
    </ul>
    <li> Links to external resources (see below) at bottom of section.
    <li> Count of annotations with link to results summary at bottom right of section<br>Count is specific for selected term (i.e. does not include results for any of its children). 
</ul>

<h5>External links</h5>
<ul>
    <li> link to Ontobee page for specified term -- <br>e.g. CL:0000000 "cell" http://www.ontobee.org/ontology/CL?iri=http://purl.obolibrary.org/obo/CL_0000000
    <li> link to Bioportal page for specified term <br>e.g. CL:0000000 "cell" https://bioportal.bioontology.org/ontologies/CL?p=classes&conceptid=CL%3A0000000
</ul>

<h5>Ontology Tree Section</h5>
<ul>
    <li> Displays selected term bolded and highlighted in its context within the ontology.tree
    <li> Tree view scrolls to active term. If multiple parent terms, there is no preferred parent in CL. It starts from the selected node, picks the parent with the smallest database key, repeat until it reaches the root. From the userâ€™s point of view, it picks an arbitrary (but repeatable) path.
    <li> Selected term is open to show its children.
    <li> Clicking on any term within the tree:
    <ul>
        <li> highlights and bolds that term
        <li> expands the tree view for the selected term
        <li> updates the term detail.
    </ul>
<li> Small blue triangles open/close nodes in the ontology so that immediate children and displayed/not shown.
<li> Clicking a node expands the node and updates Term detail. Tree does not shift (jump) to preferred parent. 
</ul>

<h5>Window Resizing</h5>
<ul>
    <li> Center vertical divider and lower margins of Term Search, Clipboard and Tree View sections are adjustable.
    <li> Lower margin of Term Detail section flexes based on contents, but is not manually resizable.
</ul>

<h5>Cell Type Load</h5>
<ul>
    <li> Cell Type (CL) ontology is edited in OBO-Edit. 
    <li>Loading Cell Type into database is done incrementally based on matching indentifiers in input with those in database<br>i.e. Load is not a drop and re-load process.
    <li> Existing terms may be updated; new terms may be created; old terms might be deleted (e.g., because of a merge)
    <li> Any annotation migration (e.g. due to a merge) will be done manually.
    <li> It will be considered an error if a Cell Type update attempts to delete a term that is referenced by an annotation.
    <li> Load also handles changing dag structure (by virtue of dropping/reloading all term-to-term relationships)
</ul>
<a href="http://mgiwiki/mediawiki/index.php/GXD#tab=Documentation">More Documentation</a>
