<hr/>
<h3>GXD High-Throughput Experiment Evaluation & Curation</h4>
<h4>Experiment Evaluation</h4>
<h5>Keyboard Shortcuts</h5>
<ul>
    <li>Search = Ctrl-Alt-S</li>
    <li>Clear = Ctrl-Alt-C</li>
    <li>Modify = Ctrl-Alt-M</li>
    <li>Previous = Ctrl-Alt-P</li>
    <li>Next = Ctrl-Alt-N</li>
    <li>Last = Ctrl-Alt-L</li>
    <li>Refresh (Update) Clipboard = Ctrl-Alt-U (refreshes both clipboards simultaneously)</li>
</ul>

<h5>Color-coded Labels</h5>

<ul>
    <li>Thistle = fields that may be searched (but not modified)</li>
    <li>Green = fields that may be searched or modified by the Curator</li>
    <li>Blue = Read-only fields</li>
    <li>Yellow = Action buttons</li>
</ul>

<h5>Curation Status Fields</h5>
<ul>
<li>Evaluation = The relevance classifier flags experiments as Predicted Yes or Predicted No.
Experiments from GEO lacking raw samples and all experiments from ArrayExpress are entered into
GXD as Not Evaluated. The GXD Curator flags an Experiment for later curation (Yes, Maybe) or as out
of scope for GXD (No). This field is not displayed on Public and does not determine whether
Experiments are moved to Public.</li>
    <li>Curation State =  This field is set by the software and not the Curator.  
        Once an Experiment has curated samples, the Curation State is updated to Done.  
        Experiments with a Curation State = Done are moved to the Public WI. When the curated sample table is deleted, the Curation State reverts to Not Done. Experiments with an Evaluation status = No have a Curation State = Not Applicable.    
    </li>  
</ul>

<h5>ID Fields for an Experiment</h5>
<ul>
<li>GEO = experiment ID from GEO; you may link to the repository entry for this experiment using the icon to the right of the input box.
<li>ArrayExp = experiment ID from ArrayExpress; you may link to the repository entry for this experiment using the icon to the right of the input box.
<li>Source = repository experiment was downloaded from. Note: some of the oldest curated GEO experiments may have been downloaded from ArrayExpress.
<li>PubMed = publication ID; you may click on this ID to link to PubMed; there may be 0-n
<li>PubMed IDs and this count is displayed next to the label. "Pub Med: n". To add (or remove) ids, click on the X, make changes and then modify; multiples can be separated by any white space delimiter (space/tab/carriage return). Click on link to PubMed to verify id correctly entered.
</ul>

<h5>Experiment Fields (Green)</h5>
<ul>
    <li>Title = A Curator may modify the Title.</li>
    <li>Description = A Curator may modify the Description.</li>
    <li>Experiment Note = A text field used at the discretion of the Curator.  This text is displayed in the WI when curated samples are present; otherwise, it is used as a private notes field.</li>
    <li>Experiment Type = The value displayed in the "Green" Experiment Type field is set by the Load using mappings of repository (“raw”) assay types to GXD assay types. The curator may modify the value if needed.</li>
    <li>Study Type = A Curator selects the appropriate Study Type of the Experiment when curating the sample Data.  The load sets this field to "Not Curated".</li>
    <li>Experimental Variables = The items listed are defined in a Simple Vocabulary, the abbreviations are used
    to save space. A Curator may select 1-to-many terms. The load sets this field to "Not Curated".
</ul>

<h5>Experiment Fields (Blue)</h5> 
<ul>
<li>Experimental Factor = as determined by ArrayExpress curators; not present in GEO.</li>
<li>Experiment Type = raw value(s) as downloaded from ArrayExpress or GEO. Field can be searched using the pWI Custom Report: GXD HT Experiment Properties Search.</li>
<li>Providers = name(s) of those who submitted the experiment to ArrayExpress. This information can be found in GEO but is not easily parsed (so we omitted it).</li>
</ul>

<h5>Date Fields</h5>
<ul>
    <li>Creation in GXD = Date this experiment was loaded in the GXD database.</li>
    <li>Release = Date set by ArrayExpress/GEO</li>
    <li>Last update = Date set by ArrayExpress (not present in GEO).</li>
    <li>Evaluated = Most recent date that the Evaluation Status was modified.  </li>
    <li>Initial Curation = Date the first curation of this Experiment's samples occurs.</li>
    <li>Last Curation = Most recent date that the curated sample Data was modified.</li>
    <li>Modifications to any other curated Experiment fields are not tracked by any date field, e.g. Title, Study Type, etc.</li>
</ul>

<h5>Search by Dates (Creation in GXD, Release, Evaluated, Initial Curation, etc)</h5>
<ul>
    <li>Valid date formats:
    <ul><li>mm/dd/yyyy or mm-dd-yyyy</li>
        <li>mm/dd/yy or mm-dd-yy</li>
        <li>yyyy/mm/dd or yyyy-mm-dd</li>
    </ul></li>
    <li>Searching for a range of dates:
    <ul><li>equal to:  enter a single date</li>
        <li>greater than:  > mm/dd/yyyy</li>
        <li>greater than or equal to:  >= mm/dd/yyyy</li>
        <li>less than:  < mm/dd/yyyy</li>
        <li>less than or equal to:  <= mm/dd/yyyy</li>
        <li>between two dates (inclusive):  mm/dd/yyyy..mm/dd/yyyy</li>
    </ul></li>
</ul>

<h5>Search with Wildcards</h5>
<ul>
    <li>The wildcard character is %.</li>
    <li>You may append or prepend the wildcard (%) to your search text.</li>
    <li>A wildcard may be used in text, date, and ID searches.</li>
</ul>

<h5>Confidence Value</h5>
<li>Value assigned by the HT index classifier. All newly loaded experiments are assigned evaluation
state = Not Evaluated. The classifier will process evaluation state = Not Evaluated experiments if
they have raw sample data, assigning them a Confidence Value that is used to set a Predicted Yes or
Predicted No evaluation state. GEO experiments lacking sample data are usually updated the
following week, at which time they will also be processed by the classifier.</li>

<h5>RNA-Seq Load?</h5>
<ul>
<li>This indicates the experiment has samples that are used to create bioreplicates for the RNA-Seq load. This is a read only field whose value cannot be modifed by the curator.</li>
</ul>

<h4>Samples - Raw & Curated</h4>

<h5>Raw Samples:</h5>

<ul>
   <li>These fields and values are downloaded from GEO using a weekly load and from ArrayExpress using
   a curator-driven load.</li>
   <li>Clicking on the Download sample metadata link will display them.</li>
   <li>The fields and values vary between experiments; there is no standardization.</li>
   <li>The raw sample data for experiments loaded from ArrayExpress prior to January 29, 2022, is not
   generally stored in the database.</li>
   <li>When viewing the raw data alongside curated samples, the sample name must be the same in both
   tables or else the raw data will not download into the pwi. Similarly, if additional raw samples are
   added after curation, these additional samples will not download into the pwi. If you delete the
   curated data, you will be able to download all raw samples.</li>
</ul>

<h5>Sample Summary</h5>
<ul>
    <li>Clicking on the "Show Sample Summary" link above the sample curation table will open a table.</li>
    <li>This table shows the curated data in a compact form, making it easy to proof/review.</li>
    <li>The sample sort is a quick and dirty approximation of that used in the front end. The primary sort is 
    Relevance=Yes (pushing curated mouse samples to the top) and then alphabetical by EMAPS term such that the lowest TS will appear at the top of the table. Non-curated samples are displayed below the relevant ones, sorted by name. </li>
    <li>Clicking on the row number allows you to toggle between the curation and summary tables (to make it easier to fix the errors you find!).</li>
</ul>

<h5>Creation of Samples</h5>
<ul>
    <li>Creation of samples happens when 2 actions occur: clicking on the "Curate Samples" link and clicking on "Modify".  Once these
        actions are taken this experiment and its samples are moved to the Public WI.</li>
    <li>Clicking on the "Curate Samples" link displays a table of fields to be curated.  A Curator may alter the columns displayed
        by checking/unchecking boxes.  These selections are maintained until another experiment is selected.</li>
    <li>If a Curator selects a different experiment before saving one that is in progress -- no samples are saved.</li>
    
</ul>

<h5>Deletion of Samples</h5>
<ul>
    <li>There is a link below the curated sample table that allows you to delete it.</li>
    <li>Doing so will reset the curation status to Not Done.</li>
    <li>The Last Curation By and date fields will reflect when the deletion was executed.</li>
    
</ul>

<h5>Sample Fields & Validation</h5>
<ul>
    <li>Name: the curator cannot modify this field. For experiments loaded from GEO, the GEO sample
    id (GSM number) will be used; all samples have one. For the curator-driven load from
    ArrayExpress, the preferred name is ENA Sample ID, followed by BioStudies (BioSD) Sample ID
    and then Source Name if there is no ENA Sample ID. For the original, weekly load from
    ArrayExpress, the preferred name was Source Name, followed by Assay Name and then Extract
    Name if the Source Name did not exist.</li>
    <li>Organism:  selection from pull-down list of controlled vocabulary. New choices are added using the Organism module.</li>
    <li>GXD Relevant?:  selection from pull-down of controlled vocabulary. By default this column is hidden.</li>
    <li>Genotype: Genotype ID entered with or without "MGI:"; validation and display of genotype when clicking or tabbing out.</li>
    <li>Age Unit: selection from pull-down of controlled vocabulary</li>
    <li>Age Range: free-form text field; warning in place for entry; the warning is displayed as a red outline of the Age Range input box.</li>
    <li>Sex: selection from pull-down of controlled vocabulary</li>
    <li>EMAPS: term selected from the clipboard or ID entered. Only one ID allowed. Validation performed when tabbing out.  Reset to blank by clicking out. Although this is not a required field, the curatorial policy is that curated samples have an associated structure.</li>
    <li>Cell type: term selected from the clipboard or ID entered. Only one ID allowed. Validation performed when tabbing out. Reset to blank by clicking out. This is not a required field. By default this column is hidden. If content present, number will appear beside column header, indicating the number of samples that contain  cell type annotations.</li>
    <li>RNA-Seq Type:  selection from pull-down of controlled vocabulary.  For curation of samples from RNA-Seq</li>
    <li>Note: optional free form text field. By default this column is hidden. If content present, number will appear beside column header, indicating the number of samples that contain a note.</li>
</ul>

<h5>User Interface features</h5>
<ul>
    <li>Toggle columns on/off: available for curated and raw columns either by check box or X at top of column.</li>
    <li>Column sort: available for curated and raw columns</li>
    <li>Filters: available for raw columns only</li>
    <li>Clipboards: updates to the EMAPA and Cell Type clipboards are recognized once the Refresh Clipboard link is clicked or the keyboard shortcut executed. Only displays terms loaded on browser clipboards (unlike in the Assay Module where annotated terms are displayed as well).</li>
    <li>Copy Up/Down: available for curated columns; clicking on an arrow replicates the value from that cell for all cells above or below (depending on which arrow used).</li>
    <li>Copy from Above: available for curated columns; tabbing out of a field pulls in the value from the nearest cell above with a value.</li>

</ul>

<h4>GXD HT Experiment Load Overview</h4>
<p>
Currently most experiments are loaded into the database using an incremental load from GEO. This load
was released February 2, 2022. The goal is to allow GXD curators to use standardized vocabularies to
index the metadata of the experiments and samples within GXD’s scope. It is expected that users will
query GXD to find experiments of interest but will go to the source repository for the details of the
expression data generated by the experiment itself.
</p>
<ul>
    <li>Only experiments for Mus and select assay types are loaded.</li>
    <li>The load runs on a weekly schedule.</li>
    <li>The load includes a relevance classifier which sets experiments to a status of "Predicted Yes" or "Predicted No".</li> 
    <li>GXD Curators will triage the newly loaded experiments to determine if the samples should be indexed (Yes, No, Maybe).</li>
    <li>Once loaded into the MGI database experiments are not updated via the Experiment Load with
    one exception: the PubMed ID field may be updated if new values are detected.</li>
</ul>
A few experiments are loaded into the database from ArrayExpress using a curator-driven load.
<ul>
<li> Even if specified by the curator, only experiments for Mus and select assay types will be loaded.
<li> This load has two modes: Add and Update.
<li> Add mode will load an experiment with the experimental prefix E-MTAB-### and its raw samples GXD. The Curator Run QC prevents the creation of duplicates.
<li> Update mode will add raw samples to an existing experiment in GXD that lacks them, but it will not overwrite existing raw samples. These will be reported on the Curator Run QC, and the load will not be allowed to run if these errors persist.
<li> The relevance classifier is not run as part of this load; all newly added experiments will be given the status Not Evaluated.
</ul>
Prior to January 29, 2022, we used a weekly, incremental load from ArrayExpress to load HT
experiments into GXD. That load did not import raw sample data; that was downloaded into the pwi on
demand during curation but was not stored. When we switched to the weekly GEO load, we “back
filled” the raw sample data for experiments that had been imported into ArrayExpress from GEO (ie the
E-GEOD-### ones). Experiments submitted directly to ArrayExpress (ie all other experimental prefixes)
generally lack raw sample data. Exception: the curator can use the curator-driven load to import raw
sample data for these experiments when needed.

<h4>More Documentation</h4>
<a href="http://mgiwiki/mediawiki/index.php/sw:Gxdhtload">GXD HT Load</a><br>
<a href="http://mgiwiki/mediawiki/index.php/GXD:HT_Indexing">GXD HT Indexing</a><br>
