
<div ng-hide="vm.hideLoadingHeader">
	<h3 id='loadingHeader'>Searching...</h3>
</div>

<div ng-hide="vm.hideErrorContents">
	<h3 id='loadingHeader'>{{ vm.errorMsg }}</h3>
</div>

<form id="imageForm" class="form-horizontal mousetrap">

<div class="container-fluid" style='min-width:1000px'>
<div class="row ">

	<!-- main left panel -->
	<div class="col-sm-9 section" style="min-height:420px;" >

		<div class="row topMargin">

			<div class="col-sm-3" style="">
				<label class="label label-search">J#</label>
				<input class="form-control" 
					ng-blur="jnumOnBlur()"  
					ng-model="vm.objectData.jnumid" id="JNumID" tabindex="1"/>
			</div>

			<div class="col-sm-3" style="">
				<label class="label label-search">Figure Label</label>
				<input class="form-control" 
					ng-model="vm.objectData.figureLabel" id="figureLabelID" tabindex="2"/>
			</div>

			<div class="col-sm-3" style="" ng-if="vm.isGxd==true">
				<label class="label label-search">Image Class</label><br>
				<select id="imageClass" ng-model="vm.objectData.imageClassKey" size="1" id="imageClassID" ng-readonly="vm.queryMode==false">
					<option value="6481781" selected>Expression</option>
					<option value="6481782">Phenotypes</option>
					<option value="6481783">Molecular</option>
					<option value="">Search All</option>
				</select>
			</div>

			<div class="col-sm-3" style="" ng-if="vm.isMgd==true">
				<label class="label label-search">Image Class</label><br>
				<select id="imageClass" ng-model="vm.objectData.imageClassKey" size="1" id="imageClassID" ng-readonly="vm.queryMode==false">
					<option value="6481782">Phenotypes</option>
					<option value="6481783">Molecular</option>
					<option value="6481781">Expression</option>
					<option value="">Search All</option>
				</select>
			</div>

			<div class="col-sm-1"></div>
			<div class="col-sm-2" style="" ng-if="vm.displayCreativeCommonsWarning==true">
				<div id="creativeCommonsWarning">Creative&nbspCommons</div>
			</div>

		</div>

		<div class="row topMargin">
			<div class="col-sm-12" style="">
				<label class="label label-search">Citation</label>
				<input class="form-control" ng-readonly="vm.queryMode==false"
					ng-model="vm.objectData.short_citation" id="citationID" />
			</div>
		</div>

		<div class="row topMargin">
			<div class="col-sm-12" style="">
				<label class="label label-search">Caption</label>
				<textarea class="form-control" rows=9 ng-model="vm.objectData.captionNote.noteChunk" 
					id="captionID" placeholder="" tabindex="3"></textarea>
				<button type="submit" id="addAlleleTagButton" ng-if="!vm.queryMode && vm.isMgd==true"
					ng-click="addAlleleTag()" >Allele Tag</button>
			</div>
		</div>

		<div class="row topMargin">
			<div class="col-sm-12" style="">
				<label class="label label-search">Copyright</label>
				<textarea class="form-control" rows=2 ng-model="vm.objectData.copyrightNote.noteChunk" 
					id="copyrightID" placeholder="" ></textarea>
			</div>
		</div>

		<div class="row topMargin" ng-if="vm.isMgd==true">
			<div class="col-sm-12" style="">
				<label class="label label-search">Private Curatorial Notes</label>
				<textarea class="form-control" rows=2 ng-model="vm.objectData.privateCuratorialNote.noteChunk" 
					id="copyrightID" placeholder="" ></textarea>
			</div>
		</div>

		<div class="row topMargin">
			<div class="col-sm-12" style="">

				<div class="col-sm-6" style="">
	
					<div class="row" style="">
					<div class="col-sm-6" style="padding-left: 0px;">
						<label class="label label-search">X Dim</label>
						<input class="form-control" ng-readonly="vm.queryMode==false"
							ng-model="vm.objectData.xdim" id="xDimID" />
					</div>
					<div class="col-sm-6" style="">
						<label class="label label-search">Y Dim</label>
						<input class="form-control" ng-readonly="vm.queryMode==false"
							ng-model="vm.objectData.ydim" id="yDimID" />
					</div>
					</div>

					<div class="row topMargin" style="">
					<div class="col-sm-6" style="padding-left: 0px;">
						<label class="label label-search">Thumbnail AccID</label>
						<input class="form-control" ng-readonly="vm.queryMode==false"
							ng-model="vm.objectData.thumbnailImage.mgiAccessionIds[0].accID" id="thumbnailAccID" />
					</div>
					<div class="col-sm-6" style="">
						<label class="label label-search">Image Type</label><br>
						<select id="imageClass" ng-model="vm.objectData.imageTypeKey" size="1" id="imageTypeID" ng-readonly="vm.queryMode==false">
							<option value="">Search All</option>
							<option value="1072158">Full Size</option>
							<option value="1072159">Thumbnail</option>
						</select>
					</div>
					</div>
					<div class="row topMargin" >
						<div class="col-sm-12" style="padding-left: 0px;">
							<label class="label label-search">External Link Notes</label>
							<textarea class="form-control" rows=1 ng-model="vm.objectData.externalLinkNote.noteChunk" 
								id="copyrightID" placeholder="" ></textarea>
						</div>
					</div>	
				</div>

				<div class="col-sm-6" style="">

					<div class="" ng-if="vm.queryMode">
						<label class="label label-search">Image Pane Label</label>
						<input class="form-control" 
							ng-model="vm.objectData.imagePanes[0].paneLabel" id="imagePaneLabel" />
					</div>

					<div class="" ng-if="!vm.queryMode">
					<table class="table table-bordered scrollable-menu" id="imagePaneTable" style="">
    				<tbody>
						<tr>
							<th>Pane Label</th>
							<th>X, Y, Width, Height</th>
						</tr>
						<tr ng-repeat="pane in vm.objectData.imagePanes" 
							ng-click=""
							ng-class-odd="'oddResultRow'">
						<td>
							{{pane.paneLabel}}
						</td>
						<td>
							{{pane.x}}, {{pane.y}}, {{pane.width}}, {{pane.height}}
						</td>
						</tr>
					</tbody>
					</table>
					</div>

				</div>
			</div>
		</div>
		<br/>

	</div>


	<!-- main right panel -->
	<div class="col-sm-3 section" style="min-height:420px;">

		<div class="row topMargin">
			<div class="col-sm-12" style="">
				<label class="label label-search">MGI ID</label><br>
				<input class="form-control"  ng-readonly="vm.queryMode==false"
					ng-model="vm.objectData.mgiAccessionIds[0].accID" id="objectAccId" />
			</div>
		</div>

		<div class="row topMargin">
			<div class="col-sm-6" style="">
				<label class="label label-search">Created By</label>
				<input class="form-control" ng-readonly="vm.queryMode==false" 
					ng-model="vm.objectData.createdBy" id="objectCreatedBy"/>
			</div>
			<div class="col-sm-6" style="">
				<label class="label label-search">Creation Date</label>
				<input class="form-control" ng-readonly="vm.queryMode==false" 
					ng-model="vm.objectData.creation_date" id="objectCreationDate"/>
			</div>
		</div>

		<div class="row topMargin">
			<div class="col-sm-6" style="">
				<label class="label label-search">Modified By</label>
				<input class="form-control" ng-readonly="vm.queryMode==false" 
					ng-model="vm.objectData.modifiedBy" id="objectModifiedBy"/>
			</div>
			<div class="col-sm-6" style="">
				<label class="label label-search">Modification Date</label>
				<input class="form-control" ng-readonly="vm.queryMode==false" 
					ng-model="vm.objectData.modification_date" id="objectModificationDate"/>
			</div>
		</div>

		<div class="spacer"></div>
		
		<button type="submit" id="searchButton" ng-click="eiSearch()" >Search</button>
		<button type="button" id="clearButton" ng-click="eiClear()" >Clear</button>
		<button type="button" id="resetSearchButtom" ng-click="resetSearch()" >Reset Search</button>
		</br>
		<button type="button" id="createObjectButton" ng-click="createObject()" 
			ng-disabled="current_user.login==null" >Add</button>
		<button type="button" id="modifyObjectButton" ng-click="modifyObject()" 
			ng-disabled="current_user.login==null || vm.queryMode==true" >Modify</button>
		<button type="button" id="deleteObjectButton" ng-click="deleteObject()" 
			ng-disabled="current_user.login==null || vm.queryMode==true || vm.objectData.imageTypeKey=='1072159'" >Delete</button>

		</br>
		<div class="row ">
		<div class="col-sm-12" style="">

			<div id="resultsCount">{{vm.results.length}} result(s) returned</div>
			<button type="submit" id="firstButton" ng-click="firstSummaryObject()" >First</button>
			<button type="submit" id="nextButton"  ng-click="nextSummaryObject()" >Next</button>
			<button type="button" id="prevButton"  ng-click="prevSummaryObject()" >Prev</button>
			<button type="button" id="lastButton"  ng-click="lastSummaryObject()" >Last</button>
			
			<div id="resultTableWrapper">
			<table class="table table-bordered scrollable-menu" id="resultsTable" style="">
    		<tbody>
				<tr ng-repeat="result in vm.results" 
					ng-click="setObject($index)" 
					ng-class="($index==vm.selectedIndex) ? 'resultsTableSelectedRow' : ''"
					ng-class-odd="'oddResultRow'">
			    	<td style="min-width: 200px;  padding: 3px; font-size: .9em;">{{result.imageDisplay}}</td>
				</tr>
			</tbody>
			</table>
			</div>
			<div class="spacer"></div>
		</div>
		</div>
		
	</div>

</div>
</div>
</form>


<!-- Java API JSON data dump -->
<br><br>
<div class="container-fluid">
	<div class="row ">
		<div class="col-sm-12">
			<button type="button" id="showObjectDataButton" ng-click="vm.hideObjectData = !vm.hideObjectData;" 
					>Show Only ObjectData Package</button>				
			<button type="button" id="showSummaryButton" ng-click="vm.hideVmData = !vm.hideVmData;" 
					>Show Full Object JSON from API</button>			
			<div ng-hide="vm.hideObjectData">
				<pre>{{ vm.objectData | json : spacing }}</pre>
			</div>
			<div ng-hide="vm.hideVmData">
				<pre>{{ vm | json : spacing }}</pre>
			</div>
		</div>
	</div>
</div> 


<script type="text/javascript">
	// This JavaScript will execute *after* content injection.
	var input = document.getElementById ("JNumID");
	input.focus ();
</script>



