<hr/>
<h3>Literature Triage Functionality:</h3>

<h4>General Description</h4>
<p>
The Literature Triage module is divided into 3 sections:
<ol>
	<li><b>Search Form</b>: searches newly loaded and existing references (i.e. Master BIB)</li>
	<li><b>Summary</b>: list of returned references</li>
	<li><b>Detail</b>: a single reference to view and/or modify on the Edit Tab</li>
</ol>

<h4>Keyboard Short-cuts</h4>
There are reported issues using these short-cuts with Mac/Firefox. 
<ul>
	<li>Search = Ctrl-Alt-S</li>
	<li>Clear = Ctrl-Alt-C</li>
	<li>Modify = Ctrl-Alt-M</li>
	<li>Previous = Ctrl-Alt-P</li>
	<li>Next = Ctrl-Alt-N</li>
	<li>Associate Tag = Ctrl-Alt-T</li>
</ul>

<h4>Color-coded Labels</h4>
<ul>
	<li>Thistle = fields that may be searched (but not modified)</li>
	<li>Green = fields that may be modified by the curator</li>
	<li>Blue = Read-only fields</li>
	<li>Yellow = Action buttons</li>
</ul>

<h4>Supported Browsers</h4>
<ul>
	<li>Chrome and FireFox are supported on both PC and Mac computers.</li>
	<li>Safari is NOT supported for the PWI. There are features that do not work, e.g. applying tags.</li>
</ul>

<h4>SECTION 1: Search Form</h4>
<p>
All fields in this section have labels highlighted in thistle and may be used for searching. They may be searched individually or in 
combination. At least 1 search field must be entered or an error message is displayed. When more than 1 field is used in a search, it 
is treated as an AND search. E.g. Title = %cancer% AND Year = 2017.
</p>

<h5>Limit on # of results</h5>
<ul>
<li>The Literature Triage module is currently configured to restrict the number of results to 5000 references. It may be preferable to use more search fields to reduce the number of references returned.</li>
</ul> 

<h5>Wildcards</h5>
<ul>
	<li>Wildcards may be used for most fields. Exceptions are <i>Accession IDs</i>, <i>Workflow Tags</i>, and <i>Year</i>.</li>
	<li>A wildcard (%) may be used at the beginning and/or end of your search text. E.g. %albino% or diabet% </li>
</ul> 

<h5>Searching using the Search Summary button</h5>
<ul>
<li>This button can be used with searches that use the following fields:  accession ids; authors; title; journal; volume; and year.</li>
<li>When you search with those fields and click the button, it will report the search results in a Reference Summary Results page.  This summary opens in a new tab, so be sure you have enabled popups for the pwi in your web browser.</li>
<li>If you include other fields in your search (eg Discard? or Workflow status), they will be ignored.  The “You Searched For” at the top of the Summary will list the search criteria used to generate it.</li>
</ul>

<h5>Discard&#63;</h5>
<ul>
        <li>Considers current relevance only</li>
        <li>Default value is “Keep”</li>
</ul>
<h5>Search by Accession IDs</h5>
<ul>
	<li>Valid types of IDs: J number, DOI, PubMed, GO_REF, MGI Reference</li>
	<li>Prefix required for J numbers, GO_REF, MGI Reference IDs (e.g. J:, GO_REF:, MGI:)</li>
	<li>Prefix not accepted for DOI or PubMed IDs</li>
	<li>A single or list of IDs may be entered. The IDs may be of one type or a mix.</li>
	<li>Lists may be delimited by comma, space, or newline/carriage return</li>
	<li>A list of IDs may be entered using Cut/Paste from an Excel file or QC report.</li>
</ul>

<h5>Search by Dates</h5>
<ul>
	<li>The <i>Date</i> field is a text field downloaded from PubMed. The format can vary, but is typically YYYY Mon DD. Wildcards may be used.</li>

	<li>The Status History Date, Relevance History Date, Reference History Creation Date, and Reference History Modification Date are time stamps held in the database.</li>
	
	<li>Valid date formats for searching are:
		<ul>
			<li>mm/dd/yyyy or mm-dd-yyyy</li>
			<li>mm/dd/yy or mm-dd-yy</li>
			<li>yyyy/mm/dd or yyyy-mm-dd</li>
		</ul>
	</li>
	<li>Searching for a range of dates:
		<ul>
			<li>equal to: enter a single date</li>
			<li>greater than: &#62; mm/dd/yyyy</li>
			<li>greater than or equal to: &#62;= mm/dd/yyyy</li>
			<li>less than: &#60; mm/dd/yyyy</li>
			<li>less than or equal to: &#60;= mm/dd/yyyy</li>
			<li>between two dates (inclusive): mm/dd/yyyy..mm/dd/yyyy</li>
			</ul>
	</li>

	<li>The <i>Year</i> field is a numeric field downloaded from PubMed. The format is YYYY. Wildcards are not accepted.
		<ul>
			<li>A single year: YYYY</li>
			<li>great than: &#62; YYYY</li>
			<li>greater than or equal to: &#62;= YYYY</li>
			<li>less than: &#60; YYYY</li>
			<li>less than or equal to: &#60;= YYYY</li>
			<li>between two years (inclusive): YYYY..YYYY</li>
			<li>comma separated years: YYYY, YYYY, YYYY (space after comma not needed)</li>
		</ul>
	</li>

</ul> 

<h5>Search by Workflow Status</h5>
<ul>
	<li>One or more <i>Status</i> fields may be selected for a search by clicking the checkbox.</li>
	<li>When more than one <i>Status</i> box has been selected for a single workflow or across multiple workflows, 
		the search treats them as an OR search by default.</li>
	<li>AND option between workflows; e.g. (AP indexed OR AP chosen) AND (GO indexed returns)</li> 
	<li>If other fields on the form are included in the search, those fields are AND'ed with the Status options selected.</li>
</ul>
<h5>Search by Tags</h5>
<ul>
	<li>Select a tag for your search. An auto-complete is available to assist the selection.</li>
	<li>Enter up to 5 tags and select desired Boolean operators (AND, OR, NOT).</li>
</ul>
<h5>Search by Workflow Status History</h5>
<ul>
	<li>The Status field may be searched by choosing one of the values from the pop-up menu. The default "All" will search all Status values.</li>
	<li>The Group field may be searched by choosing one of the values from the pop-up menu. The default "All" will search all Group values.</li>
	<li>The User field may be searched using the curator (or database load) user name.</li>
	<li>The Date field may be searched in any of the formats specified in the Search By Date section.</li>
</ul>

<h5>Search by Reference History</h5> 
<ul>
	<li>The User field may be searched using the curator (or database load) user name.</li>
	<li>The Date field may be searched in any of the formats specified in the Search By Date section.</li>
</ul>

<h5>Search by Relevance History</h5>
<ul>
	<li>The Relevance field may be searched by choosing one of the values from the pop-up menu. The default "All" will search all Relevance values, current and historical.</li>
	<li>The User field may be searched using the curator username or the process username: mgi_dbo (migration), littriageload (mice in references only), or relevance_classifier.</li>
	<li>The Version field may be searched by choosing one of the values from the pop-up menu. This is the version of the relevance classifier, which is based on the date of the training set. The default "All" will search all Version values.</li>
	<li>The Date field may be searched in any of the formats specified in the Search by Date section.</li>
	<li>The Confidence field may be searched in any of the following formats:</li>
		<ul>
			<li>exact value: 3.775 (negative or positive values)</li>
			<li>a range of values may also be searched:</li>
			<ul>
				<li>greater than</li>
				<li>greater than or equal to</li>
				<li>less than</li>
				<li>less than or equal to</li>
				<li>between two values (inclusive): -1.5..2.0</li>
				<p>If you are using a negative value remember to change the Discard? relevance value to "Search All", because negative Confidence values are mainly discards.
			</p>
			</ul>
		</ul>	
<p>The Discard? menu (which is the current relevance of records) and the Relevance history (relevance over the history of each record) can be used together to search for records that are Relevance Classifier errors identified by curators.
</p>
	<ul> 
	<li>False Positive - records that the Relevance Classifier identified as Keep, but curators set to Discard.</li>
		<ul>
			<li>Discard? = Discard</li>
			<li>Relevance = Keep</li>
			<li>Relevance User = relevance_classifier</li>
		</ul>
	<li>False Negative - records that the Relevance Classifier identified as Discard, but curators set to Keep.</li>
		<ul>
			<li>Discard? = Keep</li>
			<li>Relevance = Discard</li>
			<li>Relevance User = relevance_classifier</li>
		</ul>
	</ul>
</ul>

<h4>SECTION 2: Summary</h4>
<p>When a user clicks on the Search button, the search form is rolled up out of view and the results are displayed. The 
		table displays the references in a list sorted by J number, Journal, and Author. The highlighted reference is the
		one that is displayed in detail in the Edit Tab below the Summary. A user can highlight a different reference 
		using the Prev/Next buttons or clicking on a different row.
	</p>

<h5>Summary Table of Results</h5>
<ol>
<li>checkbox to select a reference to add or remove a tag - or to select a reference for downloading</li>
<li>MGI ID of the record</li>
<li>J:# of the record - column includes a link to the associated PDF file</li>
<li>PubMed ID with a link to PubMed</li>
<li>DOI ID with a link to the article at the journal web site</li>
<li>Short Citation: Includes Primary Author, Journal, Date, Volume, Issue, Pages</li>
<li>Title of reference</li>
<li>Current workflow status of all the workflow groups</li>
</ol>

<h5>Sort order</h5>
<ul>
	<li>References are returned in descending J number order. This returns the newest J numbers first.</li>
	<li>References that don't have J numbers yet (the "Not Routed" ones) are returned at the end of the list.</li>
	<li>References with no J numbers are sorted by MGI ID in decreasing order.</li>
</ul>
<h5>Tagging References</h5>
<ul>
	<li>A user must be logged in to apply or remove tags. When not logged in these buttons are greyed out.</li>
	<li>Select references to tag by clicking on the check boxes one at a time or using the Select All button.</li>
	<li>Enter a tag to assign to the selected references. An auto-complete is available to assist the selection.</li>
	<li>Click on Apply Tag to assign the entered tag to the selected references. Note that this immediately updates the 
			database with the new tag. There is no need to take additional steps as you do when assigning tags while using
			the Edit Tab (where you must click on Modify).</li>
	<li>To remove tags use the same steps above except click on the Remove Tag button.</li>
	<li>Use the De-select All button to clear the checkboxes.</li>
	<li>A short-cut is available for choosing and applying a Tag. A carriage return will select the first Tag listed in the 
			auto-complete list. A second carriage return will Apply the tag to all the references that have been selected.</li>
</ul>
<h5>Downloading References</h5>
<ul>
	<li>Use check boxes to select the references you would like to download.</li>
	<li>Click the Download button.  This will download a zip file to your browser's standard directory for downloads.
		The zip file will contain the PDFs for the selected references.</li>
</ul>


<h4>SECTION 3: Detail</h4>

<p>This section consists of 4 tabs:</p>
<ul>
	<li><b>Edit</b></li>
	<li><b>Allele Associations</b></li>
	<li><b>Marker Associations</b></li>
	<li><b>Strain Associations</b></li>
</ul>
		
<h4>Edit Tab</h4>
<p>Detailed information is displayed in the Edit Tab for the single yellow highlighted reference in the list of references
returned in the Summary table. By default, the highlighted reference is the first one returned. A user may click on the 
Prev/Next buttons or use their mouse to select another reference to view. A user must be logged in to Modify a reference.
When not logged in the Modify button is greyed out.

<p>IMPORTANT: changes on the Edit Tab are not saved to the database until the user clicks on the Modify button.
<h5>Add/Delete</h5>
<p>Hand entry of a new citation using Add (getting a J#)
<ol>
<li>Choose reference type and enter citation information. The MGI convention is that journal abbreviations do not end with a period; if you add one, it will be stripped off when you add/modify.</li>
<li>Click Add - record defaults to ‘Keep’ and ‘New’ for all workflow groups.</li>
<li>Select Chosen for a workflow group and click Modify to assign a J#.</li>
<li>Save the PDF in the littriage_update_pdf folder on _New_Newcurrent. </li>
</ol>

<p>To Delete, select ‘Discard’ and modify. Verify there are no data associated with the reference and remove the J#. Change any workflow status other than Rejected to Not Routed. Then click delete.

<h5>Updating workflow status</h5>
<ol>
<li>The littriage load assigns workflow status = New</li>
<li>Group-specific secondary loads (AP,GXD,PRO,QTL,Tumor) change the workflow status of the group to Not Routed/Routed. No J# is assigned. </li>
<li>Pubmed2gene load (GO) change the GO status to Indexed. J# is assigned. </li>
<li>Setting a group’s status to Chosen, Indexed, Full-coded assigns a J#.</li>
<li>GOA littriage load folder changes the GO status to full-coded. </li>
<li>Curators can set another group’s status to Routed. </li>
<li>All changes to the workflow status are saved to a history table. </li>
</ol>
<ul>
<li>The relevance classifier does not change the workflow status. </li>
<li>Setting a group’s status to Routed or Rejected does not assign a J#.</li>
</ul>

<h5>Modifying reference fields</h5>
<ul>
	<li>All reference fields except J number and MGI ID may be modified.</li>
        <li>J number can be removed from ‘Discard’ references.</li>
	<li>PMID and DOI ID fields will take the ID with or without the prefix.</li>
	<li>Book fields will be shown only for book entries</li>
</ul>

<h5>Relevance Settings</h5>
<ul>
<li>Three relevance status options are shown in radio buttons: Keep, Discard, and Not Specified.</li>
<li>The Relevance Classifier runs after the LitTriageLoad and sets the status.</li>
<li>A curator may change the relevance status to Keep or Discard.</li>
<li>Setting the status as Discard removes the reference from most default searches.</li>
</ul>

<h5>Tagging a reference</h5>
<ul>
<li>A curator can add or remove tags for a reference while using the Edit Tab. </li>
<li>Enter a tag to assign to a reference. An auto-complete is available to assist the selection.</li>
<li>Click on Associate to assign the entered tag to the reference. The tag is added to the list highlighted in orange as a reminder that it is not yet saved until the Modify button is clicked. </li>
<li>Click on the X next to a tag to remove it from a reference. The tag is immediately removed from the display, but that change is not finalized until the Modify button is clicked.</li>
<li>A short-cut is available for choosing a Tag. A carriage return will select the first Tag listed in the auto-complete list. The Associate button must then be clicked to apply the tag to the reference, but the change is not final until the Modify button is clicked.</li>
</ul>

<h5>Cancel changes</h5>
<ul>
<li>Clicking on the Cancel button resets the reference to the original values (if you have NOT already clicked Modify).</li>
<li>A user also loses any changes to a reference if the Prev/Next buttons are clicked or another reference is clicked on in the summary results.</li>
</ul>
	
<h5>Status History Table</h5>
<p>
The status history reports changes made to the workflow status for each of the workflow groups. Other changes to a reference are not
tracked in the history table (e.g. Notes added). The history is listed in time-stamp order with the most recent changes at the top. 
Each row has 3 values:
<ul>
	<li>Workflow group &amp; status.</li>
	<li>User name of the curator or software product that set the status.</li>
	<li>Time-stamp of status creation or modification.</li>
</ul>
<h5>Reference History Table</h5>
<ul>
<li>The reference history includes the date and user name of the initial creation and the last modification of the reference.  Reference modifications include all reference fields, workflow status, tags, notes, etc.</li>
</ul>

<h5>Relevance History Table</h5>
The relevance history reports changes made to the relevance status over time. The history is listed in time-stamp order with the most recent changes at the top. Each row has 5 values:
<ul>
<li>Relevance setting: Not Specified, Keep, or Discard.</li>
<li>Confidence: as set by the relevance classifier load. Null if entry is not the relevance_classifier user.</li>
<li>User name of the curator or software product that set the status.</li>
<li>Time-stamp of relevance at record creation or modification.</li>
<li>Version of the relevance classifier that set the relevance. Null if entry is not the relevance_classifier user.</li>
</ul>

For a new reference coming into the database:
<ul>
<li>The LitTriage Load sets the Relevance status as Not Specified.</li>
<li>The Relevance Classifier sets the reference as Keep or Discard.</li>
<li>Relevance is updated to keep for the first curator to change workflow status to chosen/index/full coded.</li>
<li>There is no relevance update for subsequent curator assignments that don't change the relevance status.</li>
<li>Hand entered records are set as Keep, which is noted in the history.</li>
</ul>

<h5>Data Associated to this Reference</h5>
<ul>
<li>Links to the following types of data are displayed if they have been associated to the reference: Alleles, Antibody, Assay, Assay Results, Exp Images, Genotypes, GO Annotations, Lit Index, Marker, Probes, Specimens.</li>
<li>The following types of data are displayed but not linked: Strains.
</ul>
<h4>Allele Associations Tab</h4>
<p>The Allele Associations tab is used to index alleles reported in the selected paper.
<ul>
	<li>To index an allele, Click Add Row. A green highlighted row will appear.</li>
	<li>Choose the type of allele association (Expression only, Indexed, Mixed, Molecular, Not Used, Original, Priority Index, Reviewed, Sequence, Transmission, Treatment, Used-FC) from the pull-down menu. The default is Indexed.</li>
	<li>Paste or type in the Allele Symbol or Allele ID. Tab out to auto-populate the other field not entered(this also validates as well).</li>
	<li>Click Modify to save the association.</li>
	<li>To index another allele, Click Add Row and repeat the process. Multiple alleles can be entered before clicking the Modify button to save.</li>
	<li>To remove an allele association, Click on the check mark that is to the left of Type, this will highlight the row in orange. Click Modify to delete the allele association.</li>
</ul>
<h4>Marker Associations Tab</h4>
<p> The Marker Associations Tab is used to index markers to the selected paper.
<ul>
	<li>To index a marker, Click Add Row. A green highlighted row will appear.</li>
	<li>Choose the type of marker association (General or Strain-Specific Marker) from the pull-down menu. The default is General.</li>
	<li>Paste or type in the Marker or Marker ID and tab out to auto-populate the other field not entered (this also validates as well).</li>
	<li>Click Modify to save the association.</li>
	<li>To index another marker, Click Add Row and repeat the process.</li>
	<li>To remove a marker association, Click on the check mark that is to the left of Type, this will highlight the row in orange. Click Modify to delete the marker association.</li>
</ul>
<h4>Strain Associations Tab</h4>
<p>The Strain Associations Tab is used to index strains to the selected paper.
<ul>
	<li>To associate a strain to a paper, Click Add Row. A green highlighted row will appear.</li>
	<li>Choose the type of strain association from the pull-down menu. The default is Indexed.</li>
	<ul>
	<li>Additional is for Jax strain curation only.</li>
	<li>Selected is for Jax strains where Jax curators want to sort the selected references to the top of their web page display.</li>
	</ul>
	</li>
	<li>Paste or type in the Strain or Strain ID and tab out to auto-populate the other field not entered (this also validates as well).</li>
	<li>Click Modify to save the association.</li>
	<li>To index another strain, Click Add Row and repeat the process.</li>
	<li>To remove a strain association, click on the check mark that is to the left of Type, this will highlight the row in orange. Click Modify to delete the Strain association.</li>
</ul>

<h4>Curatorial Literature Documentation</h4>
<ul>
<li><a tabindex="-1" href="http://mgiwiki/mediawiki/index.php/cur:Literature">Literature Acquisition and Triage</a></li>
<li><a tabindex="-1" href="http://mgiwiki/mediawiki/index.php/sw:LitTriage_PWI_auto-relevance">SW:LitTriage_PWI_auto-relevance</a></li>
</ul>

<h4>Reference Loader Overview</h4>

<a tabindex="-1" href="http://wts.informatics.jax.org/wts_projects/12200/12250/Lit_Triage_Loader/Lit_Triage_Req_flowchart.pdf">Flowchart for Literature Triage Process</a>

<ul>
	<li>The loader runs daily and processes PDFs that have been copied to curators' folders in the New-New directory.</li>
	<li>DOI IDs are extracted from the PDFs and these are used to get the Medline formatted citation information from PubMed.</li>
	<li>Sanity and QC checks are performed by the Load. PDFs not loaded are included in reports that curators monitor.</li>
	<li>If a PDF passes the checks then a Reference is created in the MGI database and the PDF is moved to the Master PDF directory.</li>
	<li>The reference in the database is assigned an MGI ID and the PDF is renamed using that same ID.</li>
	<li>The status is set to "New" for all the Workflow groups (AP, GO, GXD, PRO, QTL, Tumor). The relevance is Not Specified.</li>
        <li>The Relevance Classifier sets relevance value to Keep or Discard. Status remains unchanged.</li>
        <li>Workflow group secondary triage loads and Pubmed 2 gene loads set group status to Not Routed/Routed (and Indexed for GO).</li>
	<li>These loaded references are then available via the PWI Literature Triage module for review and modification by the Curators.</li>
</ul>

