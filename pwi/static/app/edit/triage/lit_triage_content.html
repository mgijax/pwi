<div class="container-fluid">

	<div class="row" ng-hide="vm.closeButtonRow">
		<div class="col-xs-12">
			<button type="button" id="openQueryForm"
				 ng-show="vm.queryForm" 
				 ng-click="vm.queryForm = !vm.queryForm; vm.closeButtonRow = !vm.closeButtonRow">Click to modify search</button>
			<br>
		</div>
	</div>

	<div ng-hide="vm.queryForm">
	<form id="moduleForm" class="form-horizontal mousetrap">


		<div class="spacer"></div>

		<div class="row ">
			<div class="col-sm-8" style="height: 200px;">

				<div class="row ">
					<div class="col-sm-4">
						<button type="submit" id="searchButton" ng-click="search()" ng-disabled="vm.loading" >Search</button>
						<button type="button" id="clearButton" ng-click="clearAll()" ng-disabled="vm.loading" >Clear</button>
						<button type="button" id="closeButton" ng-click="vm.queryForm = !vm.queryForm; vm.closeButtonRow = !vm.closeButtonRow" 
							ng-disabled="vm.loading" >Close Form</button>
					</div>
					<div class="col-sm-4">
						<label class="label label-search">Reference Type</label><br>
						<select id="reference_type" ng-model="vm.selected.reference_type" size="1">
							<option value="">Search All</option>
							<option ng-repeat="choice in reftype_choices" value="{{choice.term}}">
					       	  {{choice.term}}
					      	</option>
						</select>
					</div>
					<div class="col-sm-4">
						<label class="label label-search">Review?</label><br>
						<select id="is_review"  ng-model="vm.selected.is_review" ng-init="vm.selected.is_review=''" size="1">
							<option value="">All</option>
							<option value="n">No</option>
							<option value="y">Yes</option>
						</select>
					</div>
				</div>

				<div class="spacer"></div>
				<div class="row ">
					<div class="col-sm-4">
						<label class="label label-search">Title</label>
						<input class="form-control" ng-model="vm.selected.title" id="title" />
					</div>
					<div class="col-sm-4">
						<label class="label label-search">Journal</label>
						<input class="form-control" ng-model="vm.selected.journal" id="journal" style="max-width:500px;"/>
					</div>
					<div class="col-sm-4">
						<label class="label label-search">Year</label>
						<input class="form-control" ng-model="vm.selected.year" id="year" />
					</div>
				</div>

				<div class="spacer"></div>
				<div class="row ">
					<div class="col-sm-12">
						<label class="label label-search">Authors</label>
						<input class="form-control" ng-model="vm.selected.authors" id="authors"  />
					</div> 
				</div> 

				<div class="spacer"></div>
				<div class="row ">
					<div class="col-sm-3">
						<label class="label label-search">Date</label>
						<input class="form-control" ng-model="vm.selected.date" id="date" />
					</div> 
					<div class="col-sm-3">
						<label class="label label-search">Volume</label>
						<input class="form-control" ng-model="vm.selected.volume" id="volume" />
					</div> 
					<div class="col-sm-3">
						<label class="label label-search">Issue</label>
						<input class="form-control" ng-model="vm.selected.issue" id="issue" />
					</div> 
					<div class="col-sm-3">
						<label class="label label-search">Pages</label>
						<input class="form-control" ng-model="vm.selected.pages" id="pages" />
					</div> 
				</div>

			</div> 

			<div class="col-sm-4" style="">
				<div class="row ">
					<div class="col-sm-12">
						<label class="label label-search">Accession IDs</label>
						<input class="form-control" ng-model="vm.selected.accids" id="accids" />
					</div>
				</div>
				<div class="spacer"></div>
				<div class="row" style="background:#dfffef; height: 150px;">
					<div class="col-sm-12">
					Future Reference info/user area
					</div>
				</div>
			</div> 

		</div>

		<br>
		<div class="row " style="height: 150px;">
			<div class="col-sm-12">
			<table class="table table-bordered " id="workflowTable" style="width:800px;">
				<tbody>

					<tr>
						<td style="font-weight:bold; background-color:rgb(185,237,232);"> Workflow </td> 
						<td style="font-weight:bold; background-color:rgb(185,237,232);" colspan="6"> Status </td>
					</tr>

					<tr>
						<td style="width: 140px;"> </td> 
						<td style="width: 110px;"> Not Routed </th>
						<td style="width: 110px;"> Routed </th>
						<td style="width: 110px;"> Chosen </th>
						<td style="width: 110px;"> Indexed </th>
						<td style="width: 110px;"> Full-Coded </th>
						<td style="width: 110px;"> Rejected </th>
					</tr>

					<tr>
						<td> Alleles </td> 
						<td>  
							<input type="checkbox" id="status_AP_Not_Routed"
							ng-model="vm.selected.status_AP_Not_Routed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_AP_Routed"
							ng-model="vm.selected.status_AP_Routed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_AP_Chosen"
							ng-model="vm.selected.status_AP_Chosen"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_AP_Indexed"
							ng-model="vm.selected.status_AP_Indexed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_AP_Fully_curated"
							ng-model="vm.selected.status_AP_Fully_curated"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_AP_Rejected"
							ng-model="vm.selected.status_AP_Rejected"
							ng-true-value="1" ng-false-value="">
						</td>
					</tr>

					<tr>
						<td> GO </td> 
						<td>  
							<input type="checkbox" id="status_GO_Not_Routed"
							ng-model="vm.selected.status_GO_Not_Routed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_GO_Routed"
							ng-model="vm.selected.status_GO_Routed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_GO_Chosen"
							ng-model="vm.selected.status_GO_Chosen"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_GO_Indexed"
							ng-model="vm.selected.status_GO_Indexed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_GO_Fully_curated"
							ng-model="vm.selected.status_GO_Fully_curated"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_GO_Rejected"
							ng-model="vm.selected.status_GO_Rejected"
							ng-true-value="1" ng-false-value="">
						</td>
					</tr>

					<tr>
						<td> GXD </td> 
						<td>  
							<input type="checkbox" id="status_GXD_Not_Routed"
							ng-model="vm.selected.status_GXD_Not_Routed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_GXD_Routed"
							ng-model="vm.selected.status_GXD_Routed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_GXD_Chosen"
							ng-model="vm.selected.status_GXD_Chosen"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_GXD_Indexed"
							ng-model="vm.selected.status_GXD_Indexed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_GXD_Fully_curated"
							ng-model="vm.selected.status_GXD_Fully_curated"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_GXD_Rejected"
							ng-model="vm.selected.status_GXD_Rejected"
							ng-true-value="1" ng-false-value="">
						</td>
					</tr>

					<tr>
						<td> QTL </td> 
						<td>  
							<input type="checkbox" id="status_QTL_Not_Routed"
							ng-model="vm.selected.status_QTL_Not_Routed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_QTL_Routed"
							ng-model="vm.selected.status_QTL_Routed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_QTL_Chosen"
							ng-model="vm.selected.status_QTL_Chosen"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_QTL_Indexed"
							ng-model="vm.selected.status_QTL_Indexed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_QTL_Fully_curated"
							ng-model="vm.selected.status_QTL_Fully_curated"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_QTL_Rejected"
							ng-model="vm.selected.status_QTL_Rejected"
							ng-true-value="1" ng-false-value="">
						</td>
					</tr>

						<td> Tumor </td> 
						<td>  
							<input type="checkbox" id="status_Tumor_Not_Routed"
							ng-model="vm.selected.status_Tumor_Not_Routed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_Tumor_Routed"
							ng-model="vm.selected.status_Tumor_Routed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_Tumor_Chosen"
							ng-model="vm.selected.status_Tumor_Chosen"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_Tumor_Indexed"
							ng-model="vm.selected.status_Tumor_Indexed"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_Tumor_Fully_curated"
							ng-model="vm.selected.status_Tumor_Fully_curated"
							ng-true-value="1" ng-false-value="">
						</td>
						<td>  
							<input type="checkbox" id="status_Tumor_Rejected"
							ng-model="vm.selected.status_Tumor_Rejected"
							ng-true-value="1" ng-false-value="">
						</td>
					</tr>



				</tbody>
			</table>
			</div> 
		</div>

		<div class="spacer"></div>
		<div class="row ">
			<div class="col-sm-12">
				<label class="label label-search">Abstract</label>
				<input class="form-control" ng-model="vm.selected.abstract" id="abstact" />
			</div> 
		</div>

		<div class="spacer"></div>
		<div class="row ">
			<div class="col-sm-12">
				<label class="label label-search">Notes</label>
				<input class="form-control" ng-model="vm.selected.notes" id="notes" />
			</div> 
		</div>

	</form>
	<br>
	<br>
	</div>

	<div class="row ">     
		<div class="col-sm-12">

		<div style="width:1140px;"> 
		<table class="table table-bordered scrollable-menu" id="resultsTableHeader" style="width:1140px;">
	        	<tr>
					<th style="width: 200px;"> DOI ID </th> 
           			<th style="width: 70px;">  PMID </th>  
            		<th style="width: 70px;">  J:# </th>
            		<th style="width: 200px;"> Short Citation </th>
            		<th style="width: 300px;"> Title </th>
            		<th style="width: 60px;">  AP </th>
            		<th style="width: 60px;">  GO </th>
            		<th style="width: 60px;">  GXD </th>
            		<th style="width: 60px;">  QTL </th>
            		<th style="width: 60px;">  Tumor </th>
        		</tr>
		</table>
		</div>
		<div id="resultTableWrapper">
			<table class="table table-bordered scrollable-menu" id="resultsTable" style="width:1140px;">
			<thead> 
	        	<tr style="height:0px; display:none;">
					<th style="width: 200px;"> DOI ID </th> 
           			<th style="width: 70px;">  PMID </th>  
            		<th style="width: 70px;">  J:# </th>
            		<th style="width: 200px;"> Short Citation </th>
            		<th style="width: 300px;"> Title </th>
            		<th style="width: 60px;">  AP </th>
            		<th style="width: 60px;">  GO </th>
            		<th style="width: 60px;">  GXD </th>
            		<th style="width: 60px;">  QTL </th>
            		<th style="width: 60px;">  Tumor </th>
        		</tr>
        	</thead>
    		<tbody>
				<tr ng-repeat="ref in vm.data track by ref.jnumid" 
					ng-class="($index==vm.selectedIndex) ? 'resultsTableSelectedRow' : ''"
					ng-click="setReference($index)">

			    	<td style="width: 200px;"> 
						<div ng-if="ref.doiid">
							<a target='_blank' href='{{vm.doi_url.replace("@@@@", ref.doiid) }}'>{{ref.doiid}}</a>
						</div>
			    	</td>
			    	<td style="width: 70px;"> 
						<div ng-if="ref.pubmedid">
							<a target='_blank' href='{{vm.pubmed_url.replace("@@@@", ref.pubmedid) }}'>{{ref.pubmedid}}</a>
						</div>
			    	</td>
			    	<td style="width: 70px;">  {{ ref.jnumid }} </td>
			    	<td style="width: 200px;"> {{ ref.short_citation }} </td>
			    	<td style="width: 300px;"> {{ ref.title }} </td>
			    	<td style="width: 60px;">  {{ ref.ap_status }} </td>
			    	<td style="width: 60px;">  {{ ref.go_status }} </td>
			    	<td style="width: 60px;">  {{ ref.gxd_status }} </td>
			    	<td style="width: 60px;">  {{ ref.qtl_status }} </td>
			    	<td style="width: 60px;">  {{ ref.tumor_status }} </td>
				</tr>
			</tbody>
			</table>
		</div>

		<div class="spacer"></div>
		<span style="padding-left:500px;">
		<button type="button" id="prevRefButton" ng-click="prevReference()">Prev</button>
		<button type="button" id="nextRefButton" ng-click="nextReference()">Next</button>
		</span>

		</div>
	</div>
</div>


	<br><br><br>
	<div class="container-fluid">
		<div class="row ">
			<div class="col-sm-12">
				
				<button type="button" id="showSelectedButton" ng-click="vm.showSelected = !vm.showSelected;" 
						>Show Form Params</button>			
				<button type="button" id="showCountButton" ng-click="vm.showCount = !vm.showCount;" 
						>Show Count</button>			
				<button type="button" id="showSummaryButton" ng-click="vm.showData = !vm.showData;" 
						>Show Summary Data</button>			
				<button type="button" id="showReferenceButton" ng-click="vm.showRefData = !vm.showRefData;" 
						>Show Reference Data</button>			
				
				<div ng-hide="vm.showSelected">
					<pre>{{ vm.selected | json : spacing }}</pre>
				</div>
				<div ng-hide="vm.showCount">
					<pre>{{ vm.total_count | json : spacing }}</pre>
				</div>
				<div ng-hide="vm.showData">
					<pre>{{ vm.data | json : spacing }}</pre>
				</div>
				<div ng-hide="vm.showRefData">
					<pre>{{ vm.refData | json : spacing }}</pre>
				</div>
			</div>
		</div>
	</div> 


