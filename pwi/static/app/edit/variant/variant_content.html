<!-- jQuery Modal -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
<style>
	#aaTable tr th { border: 1px solid black; padding: 2px; background-color: #DFEFFF; }
	#aaTable tr td { border: 1px solid black; padding: 2px; }
</style>
<script>
// copy the contents of table cell 'el' into the clipboard
function copyElement(el) {
	// need to create and populate a textarea so we can use document.execCommand later on
	var tempEl = document.createElement('textarea');
	tempEl.value = el.innerHTML;
	tempEl.setAttribute('readonly', '');
	tempEl.style.position = 'absolute';
	tempEl.style.left = '-9999px';
	
	// add the textarea, copy text from it, and remove it
	document.body.appendChild(tempEl);
	tempEl.select();
	document.execCommand('copy');
	document.body.removeChild(tempEl);
	
	// close the modal popup
	$('.close-modal').click();
}
</script>
<div id="aaPopup" class="modal" ng-include src="'/pwi/static/app/edit/variant/variant_content_amino_acid_popup.html'"></div>

<div ng-hide="vm.hideLoadingHeader">
	<h3 id='loadingHeader'>Searching...</h3>
</div>

<div ng-hide="vm.hideErrorContents">
	<h3 id='loadingHeader'>{{ vm.errorMsg }}</h3>
</div>

<form id="variantForm" class="form-horizontal mousetrap">

<div class="container-fluid">
<div class="row ">

	<!-- main left panel -->
	<div class="col-sm-9 section" style="" >

		<div class="row topMargin">
		<div class="col-sm-12" style="">

			<div ng-include src="'/pwi/static/app/edit/variant/variant_content_allele_ribbon.html'"></div>
			<div class="spacer"></div>
			
			<div ng-include src="'/pwi/static/app/edit/variant/variant_content_genomic_sequence.html'"></div>
			
			<div ng-include src="'/pwi/static/app/edit/variant/variant_content_transcript_sequence.html'"></div>
			
			<div ng-include src="'/pwi/static/app/edit/variant/variant_content_protein_sequence.html'"></div>
			<div class="spacer"></div> 
			
			<div ng-include src="'/pwi/static/app/edit/variant/variant_content_variant_details.html'"></div>
			<div class="spacer"></div>
		</div><!-- left panel, left side -->

		</div><!-- outer row -->
		
		<div ng-include src="'/pwi/static/app/edit/variant/variant_content_variants_for_allele.html'"></div>
	</div><!-- main left panel -->

	<!-- main right panel -->
	<div ng-include src="'/pwi/static/app/edit/variant/variant_content_right_pane.html'"></div>

</div>
</div>
</form>


<!-- Java API JSON data dump -->
<br><br>
<div class="container-fluid">
	<div class="row ">
		<div class="col-sm-12">
			<button type="button" id="showSummaryButton" ng-click="vm.hideData = !vm.hideData;" 
					>Show Variant JSON from API</button>			
			<div ng-hide="vm.hideData">
				<pre>{{ vm | json : spacing }}</pre>
			</div>
		</div>
	</div>
</div> 


<script type="text/javascript">
	// This JavaScript will execute *after* content injection.
	var input = document.getElementById ("alleleSymbol");
	if (input != null) {
		input.focus ();
	}

	// wire the change of the strand selection list's color into the QF
	$('#strand').on('change', function(ev) {
		$(this).removeClass('redBG').removeClass('whiteBG').addClass($('#strand').children(':selected').attr('class'));
	});
</script>