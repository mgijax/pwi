
<div ng-hide="vm.hideLoadingHeader">
	<h3 id='loadingHeader'>Searching...</h3>
</div>

<div ng-hide="vm.hideErrorContents">
	<h3 id='loadingHeader'>{{ vm.errorMsg }}</h3>
</div>

<form id="variantForm" class="form-horizontal mousetrap">

<div class="container-fluid">
<div class="row ">

	<!-- main left panel -->
	<div class="col-sm-9 section" style="" >

		<div class="row topMargin">
		<div class="col-sm-12" style="">

			<div ng-include src="'/pwi/static/app/edit/variant/variant_content_allele_ribbon.html'"></div>
			<div class="spacer"></div>
			
			<div ng-include src="'/pwi/static/app/edit/variant/variant_content_genomic_sequence.html'"></div>
			<div class="spacer"></div> 
			
			<div ng-include src="'/pwi/static/app/edit/variant/variant_content_variant_details.html'"></div>
			<div class="spacer"></div>
		</div><!-- left panel, left side -->

		</div><!-- outer row -->
		
		<div ng-include src="'/pwi/static/app/edit/variant/variant_content_variants_for_allele.html'"></div>
	</div><!-- main left panel -->

	<!-- main right panel -->

	<div class="col-sm-3 section" style="min-height:380px;">

		<div class="row topMargin">
			<div class="col-sm-6" style="">
				<label class="label label-search">Created By</label>
				<input class="form-control" ng-readonly="vm.editableField==false" ng-model="vm.variantData.createdBy" id="variantCreatedBy" name="variantCreatedBy"/>
			</div>
			<div class="col-sm-6" style="">
				<label class="label label-search">Modified By</label>
				<input class="form-control" ng-readonly="vm.editableField==false" ng-model="vm.variantData.modifiedBy" id="variantModifiedBy" name="variantModifiedBy"/>
			</div>
		</div>

		<div class="row topMargin">
			<div class="col-sm-6" style="">
				<label class="label label-search">Creation Date</label>
				<input class="form-control" ng-readonly="vm.editableField==false" ng-model="vm.variantData.creation_date" id="variantCreationDate" name="variantCreationDate"/>
			</div>
			<div class="col-sm-6" style="">
				<label class="label label-search">Modification Date</label>
				<input class="form-control" ng-readonly="vm.editableField==false" ng-model="vm.variantData.modification_date" id="variantModificationDate" name="variantModificationDate"/>
			</div>
		</div>

		<div class="spacer"></div>

		<button type="button" id="searchButton" ng-click="eiSearch()" >Search</button>
		<button type="button" id="clearButton" ng-click="eiClear()" >Clear</button>
		<button type="button" id="resetSearchButtom" ng-click="resetSearch()" >Reset Search</button>
		</br>
		<button type="button" id="createVariantButton" ng-click="createVariant()" 
			ng-disabled="current_user.login==null || vm.variantData.variantKey!=null" >Create</button>
		<button type="button" id="updateVariantButton" ng-click="updateVariant()" 
			ng-disabled="current_user.login==null" >Modify</button>
		<button type="button" id="deleteVariantButton" ng-click="deleteVariant()" 
			ng-disabled="current_user.login==null" >Delete</button>

		</br>
		<div class="row ">
		<div class="col-sm-12" style="">

			<div id="resultsCount">{{vm.results.length}} result(s) returned</div>
			<div id="resultTableWrapper">
			<table class="table table-bordered scrollable-menu" id="resultsTableHeader" style="">
    		<tbody>
				<tr ng-repeat="result in vm.results" 
					ng-click="setAllele($index)" 
					ng-class="($index==vm.selectedIndex) ? 'resultsTableSelectedRow' : ''"
					ng-class-odd="'oddResultRow'">
			    	<td style="min-width: 200px;">{{result.symbol}}</td>
				</tr>
			</tbody>
			</table>
			</div>
			<div class="spacer"></div>
		</div>
		</div>
		
	</div><!-- end: main right panel -->
</div>
</div>
</form>


<!-- Java API JSON data dump -->
<br><br>
<div class="container-fluid">
	<div class="row ">
		<div class="col-sm-12">
			<button type="button" id="showSummaryButton" ng-click="vm.hideData = !vm.hideData;" 
					>Show Variant JSON from API</button>			
			<div ng-hide="vm.hideData">
				<pre>{{ vm | json : spacing }}</pre>
			</div>
		</div>
	</div>
</div> 


<script type="text/javascript">
	// This JavaScript will execute *after* content injection.
	var input = document.getElementById ("alleleSymbol");
	input.focus ();

	// wire the change of the strand selection list's color into the QF
	$('#strand').on('change', function(ev) {
		$(this).removeClass('redBG').removeClass('whiteBG').addClass($('#strand').children(':selected').attr('class'));
	});
</script>