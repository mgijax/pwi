{% extends "standardMGI.html" %}
{% block content %}

<title>EMAP Browser</title>

<link rel="stylesheet" href="{{ url_for('static',filename='mgijs/widgets/styles/mgitreeview.css') }}" type="text/css" />
<link rel="stylesheet" href="{{ url_for('static',filename='edit/emapBrowser.css') }}" type="text/css" />

<style>
</style>

<script>
</script>

<br/>
<div class="browserWrapper">

    <div class="leftContainer" style="">

      <div id="termSearchArea">
        <form name="termSearchForm" id="termSearchForm" >
        <input type="submit" value="Search"/> <input type="reset" value="Clear">
        <br/>
        <input id="termSearch" name="termSearch" value="" type="text" autofocus="autofocus" placeholder="Term Search">
        <br/>
        <input id="stageSearch" name="stageSearch" type="text" placeholder="Stage Search">
        </form>
      </div>

      <div id="clipboardSubmit">
        <form name="clipboardSubmitForm" id="clipboardSubmitForm" >
          <fieldset {% if not can_use_clipboard %}disabled{% endif %} >
            <span class="clipboardError">*</span>
            <input id="clipboardInput" name="stagesToAdd" value="" type="text" placeholder="Stage(s)">
            <input type="submit" value="Clipboard" style="margin-top: 4px;">
            <br/><span class="clipboardError" id="clipboardError"></span>
          </fieldset>
        </form>
      </div>

      <div id="emapTermAreaWrapper">
      <div id="emapTermArea">
        <div id="emapaSummaryContent_loading" class="hide">
          <img src="{{ url_for('static', filename='images/loading.gif') }}"/> Searching EMAPA Terms
        </div>
        <div id="emapaSummaryContent">
        </div>
      </div>
      </div>

      <div id="clipboardFunctions">
        <form name="clipboardFunctionsForm" id="clipboardFunctionsForm" >
        <input id='clipboardRefresh' type="submit" value="Refresh" style='margin-top: 3px;' />
        </form>
      </div>

      <div id="emapClipBoard">
        <div id="emapClipBoardContent_loading" class="hide">
          <img src="{{ url_for('static', filename='images/loading.gif') }}"/> Reloading Clipboard
        </div>
        <div id="emapClipBoardContent">
        </div>
      </div>

    </div>

    <div class="rightContainer" style="">
      <div id="termDetailsArea">
        <div id="termDetailContent_loading" class="hide">
      	  <img src="{{ url_for('static', filename='images/loading.gif') }}"/> Loading Term Detail
        </div>
        <div id="termDetailContent">
        </div>
      </div>

      <div id="treeViewAreaWrapper">
      <div id="treeViewArea">
        <div id="emapTree"></div>
      </div>
      </div>

      </div>
<br style="clear:both" />
</div>
</div>

<script>
	// Initialize relative urls for dynamic content
	window.EMAPA_SEARCH_URL = "{{ url_for('edit.emapTermResults') }}?termSearch=";
	window.EMAPA_CLIPBOARD_URL = "{{ url_for('edit.emapClipboard') }}";
	window.EMAPA_DETAIL_URL = "{{ url_for('edit.emapTermDetailById',id='') }}";
	window.EMAPA_TREE_URL = "{{ url_for('edit.emapaTreeJson',id='') }}";
	window.EMAPA_TREE_CHILD_URL = "{{ url_for('edit.emapaTreeChildrenJson',parentId='') }}";
	window.EMAPA_CLIPBOARD_EDIT_URL = "{{ url_for('edit.emapaClipboardEdit') }}";
	window.TERM_SEARCH = "{{ termSearch }}";

</script>
<script src="{{ url_for('static',filename='d3.min.js')}}"></script>
<script src="{{ url_for('static',filename='mgijs/widgets/mgitreeview.js')}}"></script>
<script src="{{ url_for('static',filename='edit/emapBrowser.js')}}"></script>

{% include "help/emap_browser.html" %}
{% endblock %}