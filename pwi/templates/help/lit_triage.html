<hr/>
<h3>Literature Triage Functionality:</h3>

<h4>General Description</h4>
<p>
The New Literature Triage module is divided into 3 sections:
<ol>
   <li><b>Search Form</b>: searches newly loaded and existing references (i.e. Master BIB)</li>
   <li><b>Summary</b>: list of returned references</li>
   <li><b>Detail</b>: a single reference to view and/or modify on the Edit Tab</li>
</ol>

<h4>Keyboard Short-cuts</h4>
There are reported issues using these short-cuts with Mac/Firefox.  
<ul>
    <li>Search = Ctrl/Alt S</li>
    <li>Clear = Ctrl/Alt C</li>
    <li>Modify = Ctrl/Alt M</li>
	<li>Previous = Ctrl/Alt P</li>
	<li>Next = Ctrl/Alt N</li>
	<li>Associate Tag = Ctrl/Alt T</li>
</ul>

<h4>Color-coded Labels</h4>
<ul>
  <li>Blue/Green = fields that may be searched (but not modified)</li>
  <li>Green = fields that may be modified by the Curator</li>
  <li>Blue = Read only fields</li>
  <li>Yellow = Action buttons</li>
</ul>

<h4>Supported Browsers</h4>
<ul>
  <li>Chrome and FireFox are supported on both PC and Mac computers.</li>
  <li>Safari is NOT supported for the PWI.  There are features that do not work, e.g. applying tags.</li>
</ul>

<h4>SECTION 1: Search Form</h4>
<p>
All fields in this section have labels highlighted in blue/green and may be used for searching.  They may be searched individually or in 
combination.  At least 1 search field must be entered or an error message is displayed.  When more than 1 field is used in a search, it 
is treated as an AND search.  E.g. Title = %cancer% AND Year = 2017.
</p>

<h5>Limit on # of results</h5>
<ul>
  <li>The Literature Triage module is currently configured to restrict the number of results to 1,001 references.  It may be preferable
  to use more search fields to reduce the number of references returned.</li>
</ul> 

<h5>Wildcards</h5>
<ul>
  <li>Wildcards may be used for most fields.  Exceptions are <i>Accession IDs</i>, <i>Workflow Tags</i>, and <i>Year</i>.</li>
  <li>A wildcard (%) may be used at the beginning and/or end of your search text.  E.g. %albino% or diabet% </li>
</ul> 

<h5>Search by Accession IDs</h5>
<ul>
  <li>Valid types of IDs: J number, DOI, PubMed, GO_REF, MGI Reference</li>
  <li>Prefix required for J numbers, GO_REF, MGI Reference IDs (e.g. J:, GO_REF:, MGI:)</li>
  <li>Prefix not accepted for DOI or PubMed IDs</li>
  <li>A single or list of IDs may be entered.  The IDs may be of one type or a mix.</li>
  <li>Lists may be delimited by comma, space, or newline/carriage return</li>
  <li>A list of IDs may be entered using Cut/Paste from an Excel file or QC report.</li>
</ul>
<h5>Search by Dates</h5>
<ul>
  <li>The <i>Date</i> field is a text field downloaded from PubMed.  The format can vary, but is typically YYYY Mon DD.  
      Wildcards may be used.</li>
  <li>The <i>Year</i> field is a numeric field downloaded from PubMed. The format is YYYY. Wildcards are not accepted.
  	<ul>
  		<li>A single year: YYYY</li>
  		<li>great than: &#62; YYYY</li>
  		<li>greater than or equal to: &#62;= YYYY</li>
  		<li>less than: &#60; YYYY</li>
  		<li>less than or equal to: &#60;= YYYY</li>
  		<li>between two years (inclusive): YYYY..YYYY</li>
  		<li>comma separated years: YYYY, YYYY, YYYY (space after comma not needed)</li>
  	</ul></li>
  </li>
</ul>
<h5>Search by Workflow Status</h5>
<ul>
  <li>One or more <i>Status</i> fields may be selected for a search by clicking the checkbox.</li>
  <li>When more than one <i>Status</i> box has been selected for a single workflow or across multiple workflows, 
      the search treats them as an OR search by default.</li>
  <li>Future:  AND option between workflows; e.g. (AP indexed OR AP chosen) AND (GO indexed returns)</li> 
  <li>If other fields on the form are included in the search, those fields are AND'ed with the Status options selected.</li>
</ul>
<h5>Search by Tags</h5>
<ul>
  <li>Select a tag for your search.  An auto-complete is available to assist the selection.</li>
  <li>Enter up to 5 tags and select desired Boolean operators (AND, OR, NOT).</li>
</ul>
<h5>Search by Workflow Status History</h5>
<ul>
  <li>Future: Search for a single history event by Status, Workflow Group, Curator, and/or Date.</li>
</ul>
<h5>Search by PDF text</h5>
<ul>
  <li>Future: Search for references by matching text that was extracted from the PDF.  The query string entered 
      is split into words with a Boolean AND inserted between each for the search.  This matches a reference that includes all
      the searched for words in any order.  Note that the Custom Report that is also available to search the PDF extracted text
      performs a "contains" search that looks for the query string exactly as entered.  Results for multiple word queries may be
      different between the two searches.</li>
</ul>

<h4>SECTION 2: Summary</h4>
<p>When a user clicks on the Search button, the search form is rolled up out of view and the results are displayed.  The 
     table displays the references in a list sorted by J number, Journal, and Author.  The highlighted reference is the
     one that is displayed in detail in the Edit Tab below the Summary.  A user can highlight a different reference 
     using the Prev/Next buttons or clicking on a different row.
  </p>

<h5>Summary Table of Results</h5>
  <ol>
    <li>checkbox to select a reference to add or remove a tag</li>
    <li>DOI ID:  DOI ID with a link to the article at the journal web site</li>
    <li>PMID:  PubMed ID with a link to PubMed</li>
    <li>J:#:  an MGI assigned J number and a link to the associated PDF file.</li>
    <li>Future: Link to PDF:  a link icon in the J# column</li>
    <li>Short Citation:  Includes Primary Author, Journal, Date, Volume, Issue, Pages</li>
    <li>Title:  Title of reference</li>
    <li>AP:  Alleles & Phenotype workflow status for this reference</li> 
    <li>GO:  GO workflow status for this reference</li>
    <li>GXD:  GXD workflow status for this reference</li>
    <li>QTL:  QTL workflow status for this reference</li>
    <li>Tumor: MTB workflow status for this reference</li> 
  </ol>
<h5>Sort order</h5>
  <ul>
    <li>References are returned in descending J number order.  This returns the newest J numbers first.</li>
    <li>References that don't have J numbers yet (the "Not Routed" ones) are returned at the end of the list.</li>
    <li>References with no J numbers are sorted by Journal and Author.</li>
  </ul
<h5>Tagging References</h5>
  <ul>
    <li>A user must be logged in to apply or remove tags.  When not logged in these buttons are greyed out.</li>
    <li>Select references to tag by clicking on the check boxes one at a time or using the Select All button.</li>
    <li>Enter a tag to assign to the selected references.  An auto-complete is available to assist the selection.</li>
    <li>Click on Apply Tag to assign the entered tag to the selected references.  Note that this immediately updates the 
        database with the new tag.  There is no need to take additional steps as you do when assigning tags while using
        the Edit Tab (where you must click on Modify).</li>
    <li>To remove tags use the same steps above except click on the Remove Tag button.</li>
    <li>Use the De-select All button to clear the checkboxes.</li>
    <li>A short-cut is available for choosing and applying a Tag.  A carriage return will select the first Tag listed in the 
        auto-complete list.  A second carriage return will Apply the tag to all the references that have been selected.</li>
  </ul>


<h4>SECTION 3: Detail</h4>

  <p>Detailed information is displayed in the Edit Tab for the single yellow highlighted reference in the list of references 
     returned in the Summary table.  By default, the highlighted reference is the first one returned.  A user may click on the 
     Prev/Next buttons or use their mouse to select another reference to view.  A user must be logged in to Modify a reference.
     When not logged the Modify button is greyed out.</p>
     
<h5>Edit Tab</h5>
<p>IMPORTANT: changes on the Edit Tab are not saved to the database until the user clicks on the Modify button.
<ul>
  <li>Updating workflow status</li>
  <ul>
    <li>For a reference with a status of <i>Not Routed</i> for all workflows, changing the status for any workflow to any
        other value creates a J number for that reference.</li>
    <li>All changes to the workflow status are saved to a history table.</li>
  </ul>
  <li>Modifying reference fields</li>
  <ul>
    <li>All reference fields except J number and MGI ID may be modified.</li>
  </ul>
  <li>Setting MGI Discard</li>
  <ul>
    <li>A curator may flag a reference as "MGI Discard" by checking this box.  This removes the reference from most searches.</li>
  </ul>
  <li>Tagging a reference</li>
  <ul>
    <li>A curator can add or remove tags for a reference while using the Edit Tab. </li>
    <li>Enter a tag to assign to a reference.  An auto-complete is available to assist the selection.</li>
    <li>Click on Associate to assign the entered tag to the reference.  The tag is added to the list highlighted in orange as a reminder that it is not yet saved until the Modify button is clicked. </li>
    <li>Click on the X next to a tag to remove it from a reference.  The tag is immediately removed from the display, but that change is not finalized until the Modify button is clicked.</li>
    <li>A short-cut is available for choosing a Tag.  A carriage return will select the first Tag listed in the auto-complete list.  
        The Associate button must then be clicked to apply the tag to the reference, but the change is not final until the Modify button is clicked.</li>
  </ul>
  <li>Cancel changes</li>
  <ul>
    <li>Clicking on the Cancel button resets the reference to the original values (if you have NOT already clicked Modify).</li>
    <li>A user also loses any changes to a reference if the Prev/Next buttons are clicked or another reference is clicked on in
        the summary results.</li>
  </ul>
  
</ul>
  
<h5>Status History Table</h5>
<p>
The status history reports changes made to the workflow status for each of the workflow groups.  Other changes to a reference are not
tracked in the history table (e.g. Notes added).  The history is listed in time-stamp order with the most recent changes at the top.  
Each row has 3 values:
<ol>
   <li>Workflow group & status.</li>
   <li>User name of the curator or software product that set the status.</li>
   <li>Time-stamp of status creation or modification.</li>
</ol>
</ul>

<h5>Data Associated to this Reference</h5>
<ul>
   <li>Links to the following types of data are displayed if they have been associated to the reference:  Alleles, Markers, 
       Lit Index, Assays, Results, Antibodies, Probes, Specimens, Exp Images.</li>
</ul>

<h4>Curatorial Literature Documentation</h4>
<a href="http://mgiwiki/mediawiki/index.php/cur:Literature">Literature Acquisition & Triage</a>

<h4>Reference Loader Overview</h4>

<a href="http://wts.informatics.jax.org/wts_projects/12200/12250/Lit_Triage_Loader/Lit_Triage_Req_flowchart.pdf">Flowchart for Literature Triage Process</a>

<ul>
  <li>The loader runs daily and processes PDFs that have been copied to curators' folders in the New-New directory.</li>
  <li>DOI IDs are extracted from the PDFs and these are used to get the Medline formatted citation information from PubMed.</li>
  <li>Sanity and QC checks are performed by the Load.  PDFs not loaded are included in reports that curators monitor.</li>
  <li>If a PDF passes the checks then a Reference is created in the MGI database and the PDF is moved to the Master PDF directory.</li>
  <li>The reference in the database is assigned an MGI ID and the PDF is renamed using that same ID.</li>
  <li>The status is set to "Not Routed" for all the Workflow groups (AP, GO, GXD, QTL, Tumor).</li>
  <li>These loaded references are then available via the PWI Literature Triage module for review and modification by the Curators.</li>
</ul>

