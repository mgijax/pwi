<hr/>
<h4>P-WI Edit Marker functionality:</h4>

<h4>General Description</h4>
<p>
The Marker module is a search, edit, display page all in one:

<h4>Keyboard Short-cuts</h4>
There are reported issues using these short-cuts with Mac/Firefox. 
<ul>
	<li>Search = Ctrl/Alt S</li>
	<li>Clear = Ctrl/Alt C</li>
	<li>Modify = Ctrl/Alt M</li>
	<li>Previous = Ctrl/Alt P</li>
	<li>Next = Ctrl/Alt N</li>
	<li>Associate Tag = Ctrl/Alt T</li>
</ul>

<h4>Color-coded Labels</h4>
<ul>
	<li>Blue/Green = fields that may be searched (but not modified)</li>
	<li>Green = fields that may be modified by the Curator</li>
	<li>Blue = Read only fields</li>
	<li>Yellow = Action buttons</li>
</ul>

<h4>Supported Browsers</h4>
<ul>
	<li>Chrome and FireFox are supported on both PC and Mac computers.</li>
	<li>Safari is NOT supported for the PWI. There are features that do not work.</li>
</ul>

<h4>Searching</h4>
<p>
All fields that have labels highlighted in blue/green and may be used for searching. They may be searched individually or in 
combination. At least 1 search field must be entered or an error message is displayed. When more than 1 field is used in a search, it 
is treated as an AND search. E.g. Marker Type = Gene AND Symbol = Pax%.
</p>

<h5>Limit on # of results</h5>
<ul>
	<li>The Marker module is currently configured to restrict the number of results to 1,001 references. It may be preferable to use more search fields to reduce the number of results returned.</li>
</ul> 

<h5>Wildcards</h5>
<ul>
	<li>Wildcards may be used for most fields. Exceptions are <i>Accession IDs?</i>, <i>?</i>, and <i>Year?</i>.</li>
	<li>A wildcard (%) may be used at the beginning and/or end of your search text. E.g. %paired% or casein% </li>
</ul> 

<h5>Search by Accession IDs</h5>
<ul>
	<li>Valid types of IDs: MGI Marker, MGD-MRK IDs, EC IDs</li>
	<li>A single or list of IDs may be entered. The IDs may be of one type or a mix.</li>
	<li>Lists may be delimited by comma, space, or newline/carriage return</li>
	<li>A list of IDs may be entered using Cut/Paste from an Excel file or QC report.</li>
</ul>

<h5>Search by Dates</h5>
<ul>
	<li>The <i>Date</i> field is a text field downloaded from PubMed. The format can vary, but is typically YYYY Mon DD. Wildcards may be used.</li>

	<li>The Status History Date, Reference History Creation Date, and Reference History Modification Date are time stamps held in the database.</li>
	
	<li>Valid date formats for searching are:
		<ul>
			<li>mm/dd/yyyy or mm-dd-yyyy</li>
			<li>mm/dd/yy or mm-dd-yy</li>
			<li>yyyy/mm/dd or yyyy-mm-dd</li>
		</ul>
	</li>
	<li>Searching for a range of dates:
		<ul>
			<li>equal to: enter a single date</li>
			<li>greater than: &#62; mm/dd/yyyy</li>
			<li>greater than or equal to: &#62;= mm/dd/yyyy</li>
			<li>less than: &#60; mm/dd/yyyy</li>
			<li>less than or equal to: &#60;= mm/dd/yyyy</li>
			<li>between two dates (inclusive): mm/dd/yyyy..mm/dd/yyyy</li>
			</ul>
	</li>

	<li>The <i>Year</i> field is a numeric field. The format is YYYY. Wildcards are not accepted.
		<ul>
			<li>A single year: YYYY</li>
			<li>great than: &#62; YYYY</li>
			<li>greater than or equal to: &#62;= YYYY</li>
			<li>less than: &#60; YYYY</li>
			<li>less than or equal to: &#60;= YYYY</li>
			<li>between two years (inclusive): YYYY..YYYY</li>
			<li>comma separated years: YYYY, YYYY, YYYY (space after comma not needed)</li>
		</ul>
	</li>

</ul> 

<h5>Search by Date History</h5> 
<ul>
	<li>The History Date field only accepts one format YYYY-MM-DD</li>
	<li>The Date formats used by other fields do not apply to this field</li> 
</ul>

<h5>Search by Reference History</h5> 
<ul>
	<li>The Created By (User) and Modified By (User) may be searched using the curator (or database load) user name.</li>
	<li>The Creation Date and Modification Date may be searched in any of the following formats:</li> 
	<li>Valid date formats for searching are:
		<ul>
			<li>mm/dd/yyyy or mm-dd-yyyy</li>
			<li>mm/dd/yy or mm-dd-yy</li>
			<li>yyyy/mm/dd or yyyy-mm-dd</li>
		</ul>
	</li>
	<li>A range of dates may also be searched:
		<ul>
			<li>equal to: enter a single date</li>
			<li>greater than: &#62; mm/dd/yyyy</li>
			<li>greater than or equal to: &#62;= mm/dd/yyyy</li>
			<li>less than: &#60; mm/dd/yyyy</li>
			<li>less than or equal to: &#60;= mm/dd/yyyy</li>
			<li>between two dates (inclusive): mm/dd/yyyy..mm/dd/yyyy</li>
		</ul>
	</li>
</ul>

<h4>Search Results</h4>
<p>When a user clicks on the Search button, the results are displayed in a table under the Search button(on the right side of the page). The 
		table displays the results in alpha numeric order. The highlighted result is the
		one that is displayed in detail on the left side. A user can highlight a different result 
		using the Prev/Next buttons or clicking on a different row. Hovering the cursor in the results table will allow the user to scroll up or down the table of results.
	</p>

<h4>Detail Results</h4>

	<p>Detailed information is displayed on the left side of the page for the single yellow highlighted result of the results table. 
		By default, the highlighted reference is the first one returned. A user may click on the 
		Prev/Next buttons or use their mouse to select another reference to view. A user must be logged in to Modify a reference.
		When not logged the Modify button is greyed out.</p>
		
<h5>Adding New Data</h5>
<ul>
	<li>Adding a Marker of type <i>Gene</i> always creates a wild-type allele for the gene</li>
	<li>If Chromosome is set to "UN" the cmOffset is set to -999, if Chromosome is not set to "UN" the cmOffset is set to -1.</li>
</ul>

<h5>Modifying fields</h5>
<ul>
	<li>Marker Status cannot be changed to "withdrawn"</li>
	<li>Marker Symbol cannot be created for "Official" or "Reserved" markers if the new symbol already exists </li>
	<li>Marker Status cannot be changed from "Official" to "Reserved" if the marker has annotations associated to it</li>
	<li>If Marker Status is being changed from "Reserved" to "Official" and Marker Type is "Gene" and a Wild-type allele does not exist and Marker 
	Name does not contain (mt, withdrawn, dna sequence, EST, expressed sequence, cDNA sequence, gene model, hypothetical protein, 
	ecotropic viral intergration site, or viral polymerase), then create the wild-type allele</li>
</ul>

<h4>History Table</h4>
<ul>
<li>This table contains the fields #, Symbol, Name, Date, J#, Citation, Event, Reason, Modified By</li>
<li>The Symbol, Name, Date, J#, Event, Reason fields are all editable</li>
<li>The Symbol and J# fields are validated. Validation happens once you tab out of the field or click in another field. If the field does not validate the user is presented with an error. The <b>Modify</b> button is disabled upon a validation error and re-enabled once a validated entry is entered. as a visual clue,
	the Modify button is greyed out when there is a validation error.</li>
<li>The Citation and Modified By fields are not editable.</li>
<li>The # field can be edited but must validate before it can be modified: Numbers can be switched among rows, but no two rows are allowed to have the same number and a new number larger than that of the last row cannot be used. Once modified, the rows are resorted by # numbers into their new sort order.</li>
</ul>
<h4>Synonyms Tab</h4>
<ul>
<li>All Synonym fields are searchable. Wildcard?</li>
<li>Synonym results are sorted by Type(in same order as pull down menu). Secondary sort is by Synonym</li>
<li>Synonyms can be added/deleted but not modified</li>
<li>When adding a synonym the J# field is validated</li>
</ul>
<h4>References Tab</h4>
<ul>
<li>All Reference fields are searchable. A wildcard is allowed for the Citation field.</li>
<li>Reference results are sorted by Type(General is first). Secondary sort is by J#</li>
<li>References can be added/deleted but not modified</li>
<li>When adding a reference the J# field is validated</li>
</ul>
<h4>AccIDs(Editable) Tab</h4>
<ul>
<li>All fields are searchable.</li>
<li>Results are sorted by Name(alpha). secondary sort is Acc ID</li>
<li>IDs can be added/modified/deleted</li>
<li>When adding an ID the J# field is validated</li>
</ul>
<h4>AccIDs(Other) Tab</h4>
<ul>
<li>This tab is display only</li>
<li>Results are sorted by Name(alpha). secondary sort is Acc ID</li>
</ul>
<h4>TSS Tab</h4>
<ul>
<li>This tab is display only</li>
<li>Results are sorted by ID(alpha)</li>
</ul>
<h4>STS markers Tab</h4>
<ul>
<li>This tab is display only</li>
<li>Results are sorted by alpha</li>
</ul>
<h4>Rename(utility)</h4>
<ul>
<li></li>
<li></li>
</ul>
<h4>Merge(utility)</h4>
<ul>
<li></li>
<li></li>
</ul>
<h4>Allele Of(utility)</h4>
<ul>
<li></li>
<li></li>
</ul>
<h4>Delete(utility)</h4>
<ul>
<li></li>
<li></li>
</ul>


